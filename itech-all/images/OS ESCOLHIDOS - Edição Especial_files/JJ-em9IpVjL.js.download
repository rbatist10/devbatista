if (self.CavalryLogger) { CavalryLogger.start_js(["V1tSw"]); }

__d("CurrentLocale",["LocaleInitialData"],(function(a,b,c,d,e,f,g){a={};a.get=function(){return g.locale};e.exports=a}),null);
__d("RTISubscriptionManager",["ChannelEventEmitter","ChannelEventType","CurrentLocale","ErrorUtils","RTISubscriptionManagerConfig","Stratcom","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n={SUBSCRIBE:"s",UNSUBSCRIBE:"u"},o=300;function p(){__p&&__p();this.$1={};this.$2=!1;this.$3=!1;this.$4=!0;this.$5=document.readyState==="complete";if(!this.$5)var a=l.listen(["m:onload"],null,function(event){a.remove(),this.$5=!0,this.flush()}.bind(this));this.$6=null;g.addListener(h.RTI_SESSION,function(a){this.$6=a,this.$6&&(this.deleteSubscriptions(function(a){return a.getState()===n.UNSUBSCRIBE}),this.flush())}.bind(this));g.addListener(h.SKYWALKER_MESSAGE,function(a){var b=a.topic,c=this.$1[b];if(c&&c.getState()===n.SUBSCRIBE){a={payload:a.payload,topic:b};j.applyWithGuard(c.getListener(),this,[a])}}.bind(this));this.getCurrentSession()}p.prototype.subscribe=function(a,b,c,d){__p&&__p();a||m(0);b||m(0);if(Object.keys(this.$1).length<this.getMaxSubscriptions()){c=c||{};c.locale=i.get();k.autobot&&(c.autobotOverrideTier=k.autobot.tier,c.autobotOverrideHostName=k.autobot.host_name,c.autobotOverrideHostIp=k.autobot.host_ip);k.assimilator&&(c.tierType=k.assimilator.tierType,c.sandboxIP=k.assimilator.sandboxIP,c.sandboxPort=k.assimilator.sandboxPort,c.sandboxHostname=k.assimilator.sandboxHostname);b=new r(a,b,c,d);c=new q(b);this.$1[a]=b;this.flush();return c}return null};p.prototype.unsubscribe=function(a){a||m(0);if(a in this.$1){a=this.$1[a];a.setState(n.UNSUBSCRIBE);a.setDirty(!0);a.setSent(!1)}};p.prototype.flush=function(){__p&&__p();if(this.isReady()&&!this.$2){this.$2=!0;this.$3=!1;var a=[],b={},c=!1;this.forEachSubscription(function(d,e){__p&&__p();if(e.isDirty()){d="subscriptions";var f=b[d];f||(f=[],b[d]=f);a.push(e);e.setDirty(!1);e.setSent(!1);d={topic:e.getTopic(),state:e.getState(),context:e.getContext()};f.push(d)}else c=!0});if(!c&&b.subscriptions&&b.subscriptions.length>0){var d=[];for(var e=0;e<b.subscriptions.length;e++)b.subscriptions[e].state!==n.UNSUBSCRIBE&&d.push(b.subscriptions[e]);b.subscriptions=d;this.$4=!0}e=function(b){__p&&__p();var c=b.data!=null;this.$4&&c&&(this.$4=!1);for(var d=0;d<a.length;d++){var e=a[d];e.setSent(c);e.setDirty(!c);if(e.getState()===n.SUBSCRIBE){e=e.getSubscribeCallback();e!==null&&j.applyWithGuard(e,this,[b])}}this.deleteSubscriptions(function(a){return a.getState()===n.UNSUBSCRIBE&&a.isSent()});this.$2=!1;this.$3&&(this.$3=!1,this.flush())}.bind(this);if(Object.keys(b).length>0){d={};this.$4&&(d.reset="t");this.$6.issueRequest("/sub",d,b,e)}else this.$2=!1}else this.$3=!0,this.$6===null&&this.getCurrentSession()};p.prototype.deleteSubscriptions=function(a){a||m(0);var b=[];this.forEachSubscription(function(c,d){a.apply(this,[d])&&b.push(c)});for(var c=0;c<b.length;c++)delete this.$1[b[c]]};p.prototype.forEachSubscription=function(a){a||m(0);for(var b in this.$1)Object.prototype.hasOwnProperty.call(this.$1,b)&&a.apply(this,[b,this.$1[b]])};p.prototype.getSubscriptions=function(){var a=[];this.forEachSubscription(function(b,c){a.push(c)});return a};p.prototype.isSubscribed=function(a){a||m(0);return a in this.$1};p.prototype.isReady=function(){return this.$6!==null&&this.$5};p.prototype.getCurrentSession=function(){g.emit(h.GET_RTI_SESSION_REQUEST)};p.prototype.getMaxSubscriptions=function(){if(k.config&&Object.prototype.hasOwnProperty.call(k.config,"max_subscriptions"))return k.config.max_subscriptions;else return o};function q(a){this.$1=a}q.prototype.unsubscribe=function(){p.unsubscribe(this.$1.getTopic())};function r(a,b,c,d){this.$1=a,this.$2=b,this.$3=!0,this.$4=!1,this.$5=n.SUBSCRIBE,this.$6=Date.now(),c?this.$7=c:this.$7={},d?this.$8=d:this.$8=null}r.prototype.getCreatedTime=function(){return this.$6};r.prototype.getTopic=function(){return this.$1};r.prototype.getListener=function(){return this.$2};r.prototype.getSubscribeCallback=function(){return this.$8};r.prototype.isDirty=function(){return this.$3};r.prototype.setDirty=function(a){this.$3=a};r.prototype.getState=function(){return this.$5};r.prototype.setState=function(a){this.$5=a};r.prototype.getContext=function(){return this.$7};r.prototype.isSent=function(){return this.$4};r.prototype.setSent=function(a){this.$4=a};Object.keys(p.prototype).forEach(function(a){p[a]=function(){var b=p;return p.prototype[a].apply(b,arguments)}});p.call(p);e.exports=p}),null);
__d("RTISubscriptionGate",["RTISubscriptionManager"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g}),null);
__d("MCompositionStoreID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONFIG:"CONFIG",FORMAT:"FORMAT",GROUP_SELL:"GROUP_SELL",MINUTIAE:"MINUTIAE",PHOTO:"PHOTO",PLACE:"PLACE",PAGE_RECOMMENDATIONS:"PAGE_RECOMMENDATIONS",SHARE:"SHARE",STATUS:"STATUS",WITH_TAGS:"WITH_TAGS",PRIVACY:"PRIVACY",SLIDESHOW:"SLIDESHOW",AUDIO:"AUDIO"})}),null);
__d("MComposition",["MCompositionStoreID","invariant"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a){"use strict";a=a||{};this.$1={};for(var b in a)this.setStoreData(b,a[b])}a.prototype.serialize=function(){"use strict";return this.$1};a.prototype.$2=function(a){"use strict";Object.prototype.hasOwnProperty.call(g,a)||h(0)};a.prototype.setStoreData=function(a,b){"use strict";this.$2(a);Object.prototype.hasOwnProperty.call(this.$1,a)&&h(0);this.$1[a]=b;return this};e.exports=a}),null);
__d("MComposerPresence",["DOM","EventEmitter","MLegacyDataStore","$","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="REGISTERED",m=null,n=new h();a={addRegistrationListener:function(a){return n.addListener(l,a)},hasRegisteredInstance:function(){return!!m},hasLoadedPrivacyValue:function(a){return!this.hasRegisteredInstance()?!1:g.scry(g.find(j("static_templates"),"div","composer-main-view"),"tr","privacy-option").some(function(b){return i.get(b).value===a})},register:function(a){m&&k(0),m=a,n.emit(l)},unregister:function(a){m===a||k(0),m=null},cleanup:function(){m!==null&&m.cleanup()}};e.exports=a}),null);
__d("MComposerAsyncLoadRequest",["Promise","MComposerPresence","MRequest","gkx"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();function a(){"use strict";this.$1=null,this.$2=null,this.$3=null}a.prototype.$4=function(){"use strict";this.$1&&(this.$1.remove(),this.$1=null),this.$3&&(this.$3.abort(),this.$3=null)};a.prototype.$5=function(a){"use strict";return new g(function(b,c){this.$1=h.addRegistrationListener(b),this.$3=new i(a).setFailureLogging("load_composer"),this.$3.setAutoRetry(j("AT5WRNV44EmYdnaM4gKEXve2a-WsvLnZ1xjU4QCsDJiF_7sIbPiDI_7XO1mB7mxOC0sFz9891yYaVAI1-HNVRqJfabnAMqb7v7A54k5cfW5Fgw")),this.$3.listen("fail",c),this.$3.send()}.bind(this))};a.prototype.send=function(a){"use strict";this.$2||(this.$2=this.$5(a),this.$2["finally"](function(){return this.$4()}.bind(this)));return this.$2};e.exports=a}),null);
__d("MComposerDataStoreKeys",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSITION:"COMPOSITION",ON_CANCEL:"ON_CANCEL",ON_SUBMIT:"ON_SUBMIT",ON_OPEN:"ON_OPEN"})}),null);
__d("MComposerSigils",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTRY_TRIGGER_LEGACY:"show_composer",ENTRY_TRIGGER:"composer_entry_trigger"})}),null);
__d("XComposerAsyncLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/async_loader/",{targetid:{type:"Int"}})}),null);
__d("MComposerEntry",["Promise","ErrorUtils","LoadingIndicator","MComposerAsyncLoadRequest","MComposerBackgroundUploadProgress","MComposerDataStoreKeys","MComposerPresence","MComposerSigils","MComposition","MLegacyDataStore","Stratcom","URI","XComposerAsyncLoaderController"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();var t=new g(function(a,b){return b()}),u=new g(function(a){return a()}),v=h.guard(function(a){if(a)throw a},"MComposerEntry");function a(event){if(A)return;B.invoke(new o(p.get(event.getNode(n.ENTRY_TRIGGER))[l.COMPOSITION]))}function w(a,b,c,d,e){__p&&__p();d===void 0&&(d=!0);A=!0;var f=null;m.hasRegisteredInstance()?f=z(a,c):f=y(a,b,d).then(function(){var b=!0;e&&(b=e());if(b)return z(a,c)},v);f["finally"](function(){return A=!1});return f}function x(a,b){return m.hasRegisteredInstance()?u:new j().send(b)}function y(a,b,c){c===void 0&&(c=!0);c&&i.show();a=x(a,b);c&&a["finally"](function(){return i.hide()});return a}function z(a,b){return new g(function(c,d){var e={};e[l.COMPOSITION]=a.serialize();e[l.ON_CANCEL]=d;e[l.ON_SUBMIT]=c;e[l.ON_OPEN]=b;q.invoke("MComposer:entry:js",null,e)})}var A=!1;s.getURIBuilder().getURI();q.listen("click",n.ENTRY_TRIGGER,a);q.listen("m:page:unload",null,function(){A=!1});var B={invoke:function(a,b){return A||this.blockNavigateToComposer()?t:w(a||new o(),s.getURIBuilder().setInt("targetid",b).getURI())},invokeOcelot:function(a,b,c,d){if(A||this.blockNavigateToComposer())return t;var e=new o();return w(e,a,c,b,d)},blockNavigateToComposer:function(){var a=k.getInstance();return a?a.blockNavigateToComposer():!1}};e.exports=B}),null);
__d("BaseGraphQLSubscription",["Banzai","BanzaiLogger","ChannelClientID","CurrentLocale","CurrentUser","GraphQLSubscriptionsConfig","Random","RTISubscriptionGate","URI","gkx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q=1e4,r=1,s=100,t="www_e2e_reliability";a={subscribe:function(a,b,c){__p&&__p();c===void 0&&(c={});c.forceLogContext==null&&p("AT7Chz5wgKLZbSd9ly8uFQQBsVBGTLtk8_Yf3E8ifENKY4n9DNZfVEomwBg6vUHF1MWvJVXwrBfYznXqFMX9Hd7EhR2xpmULKwr8D4oho-SBhA")&&m.coinflip(s)&&(c.forceLogContext=t);var d=this._getQueryParameters(a);c.forceLogContext!=null&&(d["%options"]={client_logged_context:c.forceLogContext});var e={};e.transformContext=JSON.stringify(this._getTransformContext(a,d));c.policy!=null&&(e.policy=c.policy);this._logEvent("client_subscribe",d,c);return n.subscribe(this._getTopic(a),function(a){this._logEvent("receivepayload",d,c),b(JSON.parse(a.payload))}.bind(this),e,null,function(){this._logEvent("client_unsubscribe",d,c)}.bind(this))},subscribeWithIcebreaker_EXPERIMENTAL:function(a,b,c){__p&&__p();var d=new o("https://streaming-graph.facebook.com/gqls_bore");d.setQueryData({access_token:c});c=this._getTopic(a);var e={topic:c,locale:j.get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(this._getQueryParameters(a))};d.addQueryData(e);var f=new EventSource(d.toString(),{withCredentials:!0});f.addEventListener("message",function(a){b(JSON.parse(JSON.parse(a.data).payload))},!1);return{getContext:function(){return e},unsubscribe:function(){return f.close()}}},_getTransformContext:function(a,b){var c=0;return{viewerID:this._getViewerID(a),appID:c,locale:j.get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(b)}},_getViewerID:function(a){return k.getID()},_logEvent:function(a,b,c){if(g.isEnabled("gqls_web_logging")){var d=l.shouldAlwaysLog||c.forceLogContext?r:q;m.coinflip(d)&&h.log("GraphQLSubscriptionsLoggerConfig",{clienttime:Date.now()/1e3,client_sample_weight:d,event:a,force_log_context:c.forceLogContext,mechanism:"skywalker",query_id:parseInt(this._getQueryID(),10),query_params:b,session_id:i.getID(),subscription_call:this._getSubscriptionCallName()})}}};e.exports=a}),null);
__d("WebGraphQLSubscriptionHelper",[],(function(a,b,c,d,e,f){"use strict";e.exports={getExports:function(a){var b=a.docID,c=a.queryID;return{getDocID:function(){return b},getLegacyQueryID:function(){return c}}}}}),null);
__d("CommentLikeWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g.getExports({docID:"1435334373168219",queryID:"1723155404680538"})}),null);
__d("UFICommentLikeSubscription",["BaseGraphQLSubscription","CommentLikeWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f,g,h,i){a=babelHelpers["extends"]({},g,{_getTopic:function(a){return"gqls/comment_like_subscribe/top_level_feedback_id_"+a},_getQueryID:function(){return h.getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:i(),top_level_feedback_id:a})}},_getSubscriptionCallName:function(){return"comment_like_subscribe"}});e.exports=a}),null);
__d("MSiteCommentCreateSimpleWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g.getExports({docID:"1460519033984219",queryID:"715901305267016"})}),null);
__d("UFICommentSimpleSubscription",["BaseGraphQLSubscription","MSiteCommentCreateSimpleWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f,g,h,i){a=babelHelpers["extends"]({},g,{_getTopic:function(a){return"gqls/comment_create_subscribe/feedback_id_"+a},_getQueryID:function(){return h.getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:i(),feedback_id:a})}},_getSubscriptionCallName:function(){return"comment_create_subscribe"}});e.exports=a}),null);
__d("MSiteCommentCreateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g.getExports({docID:"1659551594055113",queryID:"449892118711349"})}),null);
__d("UFICommentSubscription",["BaseGraphQLSubscription","MSiteCommentCreateWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f,g,h,i){a=babelHelpers["extends"]({},g,{_getTopic:function(a){return"gqls/comment_create_subscribe/feedback_id_"+a},_getQueryID:function(){return h.getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:i(),feedback_id:a})}},_getSubscriptionCallName:function(){return"comment_create_subscribe"}});e.exports=a}),null);
__d("MSiteFeedbackLikeWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g.getExports({docID:"1418598598173623",queryID:"644201235775644"})}),null);
__d("UFILikeSubscription",["BaseGraphQLSubscription","MSiteFeedbackLikeWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f,g,h,i){a=babelHelpers["extends"]({},g,{_getTopic:function(a){return"gqls/feedback_like_subscribe/feedback_id_"+a},_getQueryID:function(){return h.getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:i(),feedback_id:a})}},_getSubscriptionCallName:function(){return"feedback_like_subscribe"}});e.exports=a}),null);
__d("ViewportTrackingHooks",["Base64"],(function(a,b,c,d,e,f,g){__p&&__p();var h={},i=[];a={registerFeedObject:function(a,b){h[a]=g.encode(b)},updateVisibleViewportObjects:function(a){var b=[],c=!1;for(var d=0;d<a.length;d++){var e=a[d],f=e.id;while(!(f in h)&&e.firstChild!=undefined&&e.firstChild.id!=undefined&&e.firstChild.id.startsWith("u_"))f=e.firstChild.id,e=e.firstChild;f in h&&(b.push(h[f]),(!(d in i)||i[d]!=h[f])&&(c=!0))}!c&&i.length!=b.length&&(c=!0);c&&(i=b,typeof __EXT__updateVisibleViewportObjects==="function"&&__EXT__updateVisibleViewportObjects(i))}};e.exports=a}),null);
__d("onAfterTTI",["NavigationMetrics","TimeSlice","requestIdleCallback"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=[],k=!1;function a(a,b){b===void 0&&(b=!0);a=h.guard(a,"onAfterTTI invocation",{propagationType:h.PropagationType.ORPHAN});k?a():j.push(b?i.bind(null,a):a)}g.addRetroactiveListener(g.Events.EVENT_OCCURRED,function(a,b){b.event==="tti"&&!k&&(k=!0,j.forEach(function(a){a()}),g.removeCurrentListener())});e.exports=a}),null);
__d("MViewportTracking",["DataAttributeUtils","DOM","FBJSON","MPageController","MViewport","NavigationMetrics","Stratcom","Style","Vector","ViewportTrackingHooks","Visibility","VisibilityTrackingHelper","gkx","invariant","onAfterTTI","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){"use strict";__p&&__p();var w=97,x=200,y=new Map();function z(){this.$2=[],this.debugConsole=!1,this.activeStories={},this.cachedViewportHeight=0,this.discardVPVDIntervalThreshold=9e4,this.isLoose=!1,this.isTimeTrackingEnabled=!1,this.latestTimeTrackingTimestamp=0,this.maxScrollPosition=0,this.minSizeToBeVisible=0,this.readStoryIDs={},this.relaxedMinSize=!1,this.throttleNoDelay=!1,this.trackingHooks=!1,this.vpvdDebug=!1,this.vpvDebug=!1,this.enableAdsAllocationIntegrityLogging=!1}z.prototype.getDataFromConfig=function(a){t(0)};z.prototype.getStoryID=function(a){t(0)};z.prototype.getDataToLog=function(a){t(0)};z.prototype.sendDataToLog=function(a){t(0)};z.prototype.getTimeout=function(){t(0)};z.prototype.getAllStories=function(){t(0)};z.prototype.init=function(a){__p&&__p();this.isLoose=!!a.is_loose;this.throttleNoDelay=!!a.throttle_no_delay;this.relaxedMinSize=!!a.relaxed_min_size;this.vpvDebug=!!a.vpv_debug;this.trackingHooks=!!a.tracking_hooks;this.isTimeTrackingEnabled=!1;var b=z.shouldRunTrackingAfterTTI();b||(this.cachedViewportHeight=k.getHeight());this.getDataFromConfig(a);this.maxScrollPosition=0;this.readStoryIDs={};this.$2=[m.listen("m:page:unload",null,this.onUnload.bind(this)),m.listen("m:viewport:update-complete",null,function(){this.cachedViewportHeight=k.getHeight()}.bind(this))];a.triggerOverride?this.$2=this.$2.concat(a.triggerOverride.map(function(a){var event=a[0];a=a[1];return m.listen(event,a,this.queueLogAction.bind(this))}.bind(this))):this.$2.push(m.listen("scroll",null,this.queueLogAction.bind(this)));this.isTimeTrackingEnabled&&(this.$2.push(q.addListener(q.VISIBLE,function(){return this.startRecordingTimeTrackingData()}.bind(this))),this.$2.push(q.addListener(q.HIDDEN,function(){return this.stopRecordingTimeTrackingData()}.bind(this))));this.$2.push(m.listen("m:newsfeed:popup-visible",null,function(){this.stopRecordingTimeTrackingData()}.bind(this)),m.listen("m:newsfeed:popup-hidden",null,function(){this.startRecordingTimeTrackingData(),this.fireEvent()}.bind(this)));b?u(function(){this.fireEvent()}.bind(this),!1):(this.fireEvent(),l.addRetroactiveListener(l.Events.EVENT_OCCURRED,function(a,b){var event=b.event;event==="tti"&&(this.fireEvent(),l.removeCurrentListener())}.bind(this)))};z.prototype.getFBFeedLocation=function(){return-1};z.prototype.unitTestOnlyGetListeners=function(){return[].concat(this.$2)};z.prototype.getMinSizeToBeVisible=function(a){if(!this.relaxedMinSize)return x;a="getBoundingClientRect"in a?a.getBoundingClientRect().height:o.getDim(a).y;return Math.min(x,a*.5)};z.prototype.fireEvent=function(){__p&&__p();if(r.isSnippetFlyoutVisible())return;var a=this.getAllStoriesInView();for(var b=0;b<a.length;b++){var c=a[b],d=this.getStoryID(c);if(!d||d in this.readStoryIDs)continue;this.readStoryIDs[d]=!0;this.sendDataToLog(this.getDataToLog(c));if(this.vpvDebug){d=h.scry(c,"div")[0];d&&n.set(d,"background-color","#fffbe2")}this.markStoryRead(c);this.fireStoryVisibleHandlers(c)}this.trackingHooks&&p.updateVisibleViewportObjects(this.getAllStoriesInView(!0))};z.prototype.fireStoryVisibleHandlers=function(a){(y.get(a)||[]).forEach(function(a){return a()}),y["delete"](a)};z.prototype.markStoryRead=function(a){};z.prototype.queueLogAction=function(){this.isLoose?this.$3||(this.$3=v(function(){this.isTimeTrackingEnabled&&this.startRecordingTimeTrackingData(),this.$3=null,this.maxScrollPosition=Math.max(this.maxScrollPosition,k.getScrollTop()),!this.throttleNoDelay?(clearTimeout(this.$1),this.$1=v(function(){return this.fireEvent()}.bind(this),this.getTimeout())):this.fireEvent()}.bind(this),100)):(clearTimeout(this.$1),this.$1=v(function(){this.isTimeTrackingEnabled&&this.startRecordingTimeTrackingData(),this.fireEvent()}.bind(this),this.getTimeout()))};z.prototype.getTimetrackingDataToLog=function(a){var b=h.scry(a.story,"*","data-is-cta").map(function(a){a=g.getDataFt(a);a=a&&JSON.parse(a);return a&&a.cta_types}).filter(function(a){return!!a});this.cachedViewportHeight===0&&z.shouldRunTrackingAfterTTI()&&(this.cachedViewportHeight=k.getHeight());return{evt:w,fbfeed_location:this.getFBFeedLocation(),story_height:a.story_height,viewport_height:this.cachedViewportHeight,vpvd_start_timestamp:a.evp_ts/1e3,vpvd_time_delta:Math.round(a.vpvd||0),cta_types:b}};z.prototype.recordTimeStoryWasInView=function(a){if(this.isTimeTrackingEnabled&&a.vpvd>0){var b=this.getTimetrackingDataToLog(a);if(typeof b!=="string"){a=g.getDataFt(a.story);a&&(b=babelHelpers["extends"]({},b,i.parse(a,e.id)))}this.sendTimetrackingDataToLog(b)}};z.prototype.startRecordingTimeTrackingData=function(){this.$4(!1)};z.prototype.stopRecordingTimeTrackingData=function(){this.$4(!0)};z.prototype.$4=function(a){__p&&__p();this.activeStories||(this.activeStories={});var b=Date.now();this.latestTimeTrackingTimestamp||(this.latestTimeTrackingTimestamp=b);var c=this.getAllStoriesInView();this.updateVPVDurations(b);if(this.debugConsole){var d=Object.values(this.activeStories);d.length&&(console.table&&console.table(d))}d=this.updateActiveStories(c,b);this.debugConsole&&(d.length&&(console.table&&console.table(d)));this.recordVPVDurations(c,a);this.latestTimeTrackingTimestamp=a?0:b};z.prototype.updateVPVDurations=function(a){var b=a-this.latestTimeTrackingTimestamp;if(b>this.discardVPVDIntervalThreshold)return;b=a-this.latestTimeTrackingTimestamp;for(var c in this.activeStories)Object.prototype.hasOwnProperty.call(this.activeStories,c)&&(this.activeStories[c].vpvd+=b)};z.prototype.isVisible=function(a,b){for(var c=0;c<b.length;c++)if(this.getStoryID(b[c])===a)return!0;return!1};z.prototype.recordVPVDurations=function(a,b){this.recordVPVDurationsInternal(a,b)};z.prototype.recordVPVDurationsInternal=function(a,b){for(var c in this.activeStories)Object.prototype.hasOwnProperty.call(this.activeStories,c)&&((b||!this.isVisible(c,a))&&(this.recordTimeStoryWasInView(this.activeStories[c]),delete this.activeStories[c]))};z.prototype.updateActiveStories=function(a,b){var c=[];for(var d=0;d<a.length;d++){var e=this.getStoryID(a[d]);if(!e)break;e in this.activeStories||(this.activeStories[e]={evp_ts:b,story:a[d],vpvd:0,story_height:a[d].offsetHeight},c.push(this.activeStories[e]));this.activeStories[e].ts=b}return c};z.prototype.getAllStoriesInView=function(a){__p&&__p();a===void 0&&(a=!1);var b=[],c=this.getAllStories(),d=k.getScrollTop(),e=k.getHeight(),f=this.isLoose,g=e+this.maxScrollPosition-d;for(var h=0;h<c.length;h++){var i=c[h],j=this.getStoryBounds(d,i),l=j.top;j=j.bottom;if(!l&&!j)continue;var m=this.getMinSizeToBeVisible(i);if(!f&&l>e-m)break;m=!f&&l<=e-m&&j>=m||f&&l<g;a&&(j<0||l>e)&&(m=!1);m&&b.push(i)}return b};z.prototype.getStoryBounds=function(a,b){if("getBoundingClientRect"in b){var c=b.getBoundingClientRect();return{bottom:c.bottom,top:c.top}}else{c=o.getPos(b).y-a;return{top:c,bottom:c+o.getDim(b).y}}};z.prototype.cleanup=function(){this.$2.forEach(function(a){return a.remove()}),this.$2=[],y.clear()};z.prototype.onUnload=function(){this.isTimeTrackingEnabled&&this.stopRecordingTimeTrackingData(),this.cleanup()};z.prototype.sendTimetrackingDataToLog=function(a){this.sendDataToLog(a)};z.shouldRunTrackingAfterTTI=function(){return j.isHomeishPath(location.href)&&s("AT5O8xsR5x0ELlZ5jOE3X5-ehVC3uoPqq660HQDL4w9wKwvRm4MKxHk4lF9KQ7mHHhkAK-AiXe4wZn4Y6p5yGdCP")};z.addStoryVisibleHandler=function(a,b){y.set(a,[].concat(y.get(a)||[],[b]));return{remove:function(){y.set(a,(y.get(a)||[]).filter(function(a){return a!==b}))}}};e.exports=z}),null);
__d("MCommentViewportTracking",["Banzai","DataStore","DOM","FBJSON","MParent","MViewportTracking","Stratcom","StratcomManager","compactArray","gkx","onAfterTTI"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){"use strict";__p&&__p();var r,s=null,t={m_group_stories_container:"group",m_newsfeed_stream:"",m_story_permalink_view:"",structured_composer_async_container:"user",root:""};r=babelHelpers.inherits(u,l);r&&r.prototype;u.loadedReplies=function(){m.invoke("m:commentViewportTracking:loadedReplies")};u.loadedComments=function(){s&&s.isTimeTrackingEnabled&&s.startRecordingTimeTrackingData()};u.singleton=function(a){__p&&__p();if(!s){a={triggerOverride:[["scroll",null],["m:commentViewportTracking:loadedReplies",null],["m:feed-ufi-flyout:comments-displayed",null]]};n.enableDispatch(document,"scroll");s=new u();s.init(a);s.debugConsole&&!1;s.isTimeTrackingEnabled&&(l.shouldRunTrackingAfterTTI()?q(function(){s instanceof u&&s.startRecordingTimeTrackingData()},!1):s.startRecordingTimeTrackingData());m.listen("m:page:unload",null,function(){s=null,m.removeCurrentListener()})}};u.registerFlyout=function(a,b){var c;s&&(s.debugConsole&&!1,s.streamRoot=a);t=babelHelpers["extends"]((c={},c[a.id]=b||"",c),t)};u.prototype.getDataFromConfig=function(){this.debugConsole=p("AT7ImPMHuxZIJZ136ME7VyraMwtCKryQmyrFHtgzHkf8ddy4a6_xWA51xIkynmusmXrOGBFVkNSaxGsbLCgQTZHL"),this.isTimeTrackingEnabled=!0,this.idle_timeout=5e3,this.min_duration_to_log=100,this.min_visible_size=200,this.relaxedMinSize=!0};u.prototype.__getRootNode=function(){this.streamRoot||(this.streamRoot=o(Object.keys(t).map(function(a){return document.getElementById(a)}))[0]||null);return this.streamRoot};u.prototype.__getStaticTemplateRootNode=function(){this.staticElementRoot||(this.staticElementRoot=document.getElementById("static_templates"));return this.staticElementRoot};u.prototype.getAllStories=function(){var a=this.__getRootNode();if(!a)return[];a=i.scry(this.__getRootNode(),"div","comment-body");return this.__getStaticTemplateRootNode()?a.concat(i.scry(this.__getStaticTemplateRootNode(),"div","comment-body")):a};u.prototype.getTimeout=function(){return this.min_duration_to_log};u.prototype.getDataToLog=function(a){return{}};u.prototype.getStoryID=function(a){var b=a.getAttribute("data-commentid");return!b?String(h.get(a,"token"))||null:b};u.prototype.getContainerModule=function(){var a=this.__getRootNode();return!a||!(a.id in t)?"other":t[a.id]};u.prototype.getTimetrackingDataToLog=function(a){var b=a.story,c;try{var d=k.bySigil(a.story,"story-div")||k.bySigil(a.story,"m-feed-single-story");d&&(c=j.parse(d.getAttribute("data-ft"),e.id))}catch(a){}return{comment_id:this.getStoryID(b),duration_ms:Math.round(a.vpvd),container_module:this.getContainerModule(),mf_story_key:c?c.mf_story_key||c.top_level_post_id:null}};u.prototype.sendDataToLog=function(a){a.comment_id&&(this.debugConsole&&!1,g.post("comment_vpvd",a))};function u(){r.apply(this,arguments)}e.exports=u}),null);
__d("NTAnnounceSubscription",["Stratcom"],(function(a,b,c,d,e,f,g){"use strict";a={subscribe:function(a,b){g.listen(a,null,function(event){b(event.getData())})}};e.exports=a}),null);
__d("runMaybeOnAfterTTI",["MPageController","gkx","onAfterTTI"],(function(a,b,c,d,e,f,g,h,i){function a(a){g.isHomeishPath(location.href)&&h("AT4FwI0ABrB3SnRkTs6sL6Gh0Yo6zIREL3ek7_t41qXW8xfEGEnCg7Qi53b7tikzPsdM2vZIOFc-YpDojWPxX01F")?i(a):a()}e.exports=a}),null);
__d("SaveState",[],(function(a,b,c,d,e,f){a={SAVING:"saving",SAVED:"saved",UNSAVING:"unsaving",UNSAVED:"unsaved"};e.exports=a}),null);
__d("SaveStateHandler",["SaveState"],(function(a,b,c,d,e,f,g){__p&&__p();var h=null;function i(){"use strict";this.$1={},this.$2={}}i.prototype.addListener=function(a,b){"use strict";this.$1[a]||(this.$1[a]=[]),this.$1[a].push(b)};i.prototype.setState=function(a,b){"use strict";a.forEach(function(a){this.$2[a]=b;if(!this.$1[a])return;a=this.$1[a];a.forEach(function(a){try{a.call(window,b)}catch(a){}})},this)};i.prototype.getState=function(a){"use strict";return this.$2[a]};i.$3=function(){"use strict";h||(h=new i());return h};i.listen=function(a,b){"use strict";this.$3().addListener(a,b)};i.getState=function(a){"use strict";return this.$3().getState(a)};i.saving=function(a){"use strict";this.$3().setState(a,g.SAVING)};i.saved=function(a){"use strict";this.$3().setState(a,g.SAVED)};i.unsaving=function(a){"use strict";this.$3().setState(a,g.UNSAVING)};i.unsaved=function(a){"use strict";this.$3().setState(a,g.UNSAVED)};i.isSaveAction=function(a){"use strict";a=this.$3().getState(a);return a==g.UNSAVED||a==g.UNSAVING};i.isInTransition=function(a){"use strict";a=this.$3().getState(a);return a==g.SAVING||a==g.UNSAVING};e.exports=i}),null);
__d("MScrollPositionSaver",["MViewport","Stratcom","Vector","$","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m={getElementPositionY:function(a){return i.getPos(a).y},getScrollPosition:function(a){__p&&__p();var b=j("root");l=a;a=a?a.scrollTop:g.getScrollTop();if(a<g.getHeight()/3)return{element:document.body,hiddenRatio:0};do{var c=[];for(var d=0;d<b.childNodes.length;d++){var e=b.childNodes[d];if(e.nodeType!==1)continue;var f=document.defaultView.getComputedStyle(e,"");f.display!="none"&&f.visibility!="hidden"&&c.push(e)}if(!c.length)break;f=a;c[0].offsetParent&&(f-=m.getElementPositionY(c[0].offsetParent));e=0;d=c.length-1;while(e<=d){var i=Math.floor((e+d)/2);c[i].offsetTop<=f?e=i+1:d=i-1}b=c[Math.max(d,0)]}while(!h.hasSigil(b,"marea"));i=Math.max(a-m.getElementPositionY(b),0);f=0;b.offsetHeight&&(f=Math.min(i/b.offsetHeight,1));return{element:b,hiddenRatio:f}},setScrollPosition:function(a,b){var c=a.element.offsetHeight*a.hiddenRatio;a=m.getElementPositionY(a.element)+parseInt(c,10);c=b?b.scrollTop:g.getScrollTop();(a>0||c>0)&&(b?b.scrollTop=a:g.scrollTo(0,a))}},n=null,o=null,p=g.isLandscape(),q=!1,r=!1;function s(){var a=l?l.scrollTop:g.getScrollTop();a!=n&&(o=m.getScrollPosition(l),n=a);r=!1}h.listen("scroll",null,function(a){if(a.getType()=="scroll"&&q)return;r||(k(s,50),r=!0)});h.listen("resize",null,function(){q=!0,k(function(){var a=g.isLandscape();o&&p!==a&&(p=a,m.setScrollPosition(o,l),s());q=!1},200)});e.exports=m}),null);
__d("ModalDialogURIWhitelistForNavigationLogging",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_FEATURE_PHOTOS:"/profile/intro/edit/photos/",DESCRIBE_WHO_YOU_ARE:"/profile/intro/edit/bio/"})}),null);
__d("MModalDialog",["CSS","DOM","MHistory","MLinkHack","ModalDialogURIWhitelistForNavigationLogging","MPageCache","MPageController","MRequest","MRequestGateway","MRequestTypes","MScrollPositionSaver","MURI","MViewport","ScriptPath","Stratcom","URI","$","fbt","ge","setTimeoutAcrossTransitions","FWLoader"],(function(a,b,c,d,e,f,g,h,i,aa,ba,j,ca,da,ea,fa,k,l,m,n,o,p,q,ga,r,ha){__p&&__p();var s=b("FWLoader").FW,ia="dialog-ignore-subtree-links",t="mds",u="mdf",v="fw:modal-dialog:close",w="m:modal-dialog:step-change",x="m:modal-dialog:initial-load",y="m:modal-dialog:close",z="m:modal-dialog:will-close",A,B=!1,C=!1,D=!1,E=null,F,G,H,I,J,K,L=[],M=null,N=null,O;function a(){return C}function c(a,b,c){N=b,P(a,c)}function P(a,b,c,d){__p&&__p();d===void 0&&(d={});a instanceof p&&(a=a.toString());ya(a)&&n.openOverlayView(a);if(window.FW_ENABLED){b&&o.listen(v,null,function(a){o.removeCurrentListener(),b&&b(a.getData())});var e=encodeURIComponent(a);s.openInNewWebView("fb://facewebmodal/f?href="+e);return}if(C)throw new Error("A modal dialog is already open.");h.hide(Z());h.setContent(va(),null);C=!0;W(!0);E=b;c?U(c):U(ga._("Carregando..."));ka(!0);K=k.getScrollPosition();R(a,babelHelpers["extends"]({},d,{firstStep:!0}));h.hide(q("viewport"));h.show(A);m.scrollToHeader();J=m.getUseableHeight()-q("mDialogHeader").offsetHeight}function Q(a){a===void 0&&(a={});if(window.FW_ENABLED){s.broadcastEvent(v,null,a,1);s.dismissModalDialog(!0);return}ya(G)&&n.closeOverlayView(G);!!a&&a.goBack===!0?(M=ma.bind(null,a),window.history.go(-1)):ma(a)}function R(a,b){b===void 0&&(b={});a instanceof p&&(a=a.toString());b.dontPushState||S(N,a,b);if(b.hideNavBar){b=r("mDialogHeader");b!=null&&h.hide(b)}ta(a)}function S(a,b,c){c===void 0&&(c={});F=b||F;L.push(m.getScrollPos());if(!window.FW_ENABLED){a=a||i.getPath();b=new l(a).addQueryData(i.SOFT_STATE_KEY).addQueryData(t,F.toString());c.firstStep?b.addQueryData(u,1):b.addQueryData(u,undefined);i.pushState(b.toString())}}function T(){o.invoke(w);window.FW_ENABLED?pa(!0):(D=!0,window.history.go(-1));if(L.length){var a=L.pop();setTimeout(function(){m.scrollTo(a.x,a.y)})}}function U(a){h.setContent(H,a)}function ja(){return H.innerText||null}function V(a){g.conditionClass(q("modalDialog"),"spin",a)}function ka(a){h.scry(q("mDialogHeader"),"button").forEach(function(b){b.disabled=!a})}function d(a){la(),C=!0,a instanceof p&&(a=a.toString()),G=a,o.invoke(w)}function la(){__p&&__p();var a=q("modalDialog");if(A===a)return;A=a;o.addSigil(A,"context-layer-root");H=h.find(a,"div","dialog-title");O=h.listen(a,"click","dialog-cancel-button",function(a){a.kill(),Q({canceled:!0,goBack:!0})});h.listen(a,"click","dialog-back-button",function(a){a.kill(),T()});h.listen(a,"click",null,function(a){__p&&__p();var b=a.getNode("tag:a");if(!b)return;if(a.getPrevented())return;var c=a.getNode(ia);if(b.getAttribute("rel")=="ignore"||c)return;a.kill();if(o.hasSigil(b,"cancel-link")){T();return}aa.remove(b);c=b.getAttribute("href");ha(R.bind(null,c),200)});window.FW_ENABLED?I=[]:o.listen("m:history:change",null,na);o.listen("m:page:unload",null,function(){!window.FW_ENABLED&&C&&Q({canceled:!0})})}function ma(a){__p&&__p();o.invoke(z);h.hide(A);var b=r("mDialogHeader");b!=null&&h.show(b);h.show(q("viewport"));K&&k.setScrollPosition(K);E&&E(a);o.invoke(w);h.setContent(q("modalDialogView"),null);o.invoke(y);C=!1}function na(a){__p&&__p();var b=new p(a.getData().path).getQueryData(),c=b[t];if(M!==null){if(c)a.kill(),window.history.go(-1);else{var d=M;M=null;d&&d()}return}if(!C){c&&(a.kill(),window.history.go(-1));return}a.prevent();if(!c){Q({canceled:!0});return}W(!!b[u]);if(c===F.toString())return;ea.stopAllRequests();F=c;if(!D&&j.isPageCached(c,ca.HISTORY_EXPIRE_MS)){d=j.getCachedPage(c);d.listen("complete",Y.bind(this,c));d.process()}else D=!1,ta(c)}function e(a){this._customData=a}function oa(){return this._customData}function pa(a){if(I.length===0)return;var b=I.pop();I.length===0&&W(!0);a?R(b.uri):(h.setContent(q("modalDialogView"),b.content),ua(b.rightButtons),U(b.title),Y(b.uri))}function W(a){g.conditionClass(q("mDialogHeader"),"firstStep",a),B=a}function X(){return B}function qa(){h.hide($()),h.show(Z())}function ra(){h.show($()),h.hide(Z())}function sa(){h.hide($()),h.hide(Z())}function ta(a){__p&&__p();function b(a){var b=document.createDocumentFragment();while(a.firstChild)b.appendChild(a.removeChild(a.firstChild));return b}V(!0);X()||o.invoke(w);window.FW_ENABLED&&(I.push({content:b(q("modalDialogView")),uri:G,title:ja(),rightButtons:b(q("modalDialogHeaderButtons"))}),W(!1));b=new da(new l(a).toString()).setType(fa.TRANSITION);b.setMethod("GET");b.listen("postprocess",function(b){window.FW_ENABLED||j.setCachedPage(a,b.response),Y(a)});b.send()}function Y(a){window.FW_ENABLED||(q("modalDialogView").style.minHeight=J+"px"),V(!1),G=a,X()&&o.invoke(x,null,{uri:a}),o.invoke("m:ajax:complete")}function ua(a){h.setContent(va(),a)}function va(){return q("modalDialogHeaderButtons")}function Z(){return h.find(A,"*","dialog-cancel-button")}function $(){return h.find(A,"*","dialog-back-button")}function wa(a){a?h.replace(Z(),a):h.hide(Z())}function xa(a){C?R(a):P(a)}function ya(a){return Object.values(ba).indexOf(a)>-1}function za(){O.remove()}f.init=la;f._replaceButtons=ua;f._replaceCancelButton=wa;f.STEP_CHANGE_EVENT=w;f.STEP_KEY=t;f.INITIAL_LOAD_EVENT=x;f.CLOSE_EVENT=y;f.WILL_CLOSE_EVENT=z;f.close=Q;f.getIsFirstStep=X;f.goBack=T;f.initForFaceweb=d;f.isOpen=a;f.load=R;f.loadOrOpen=xa;f.open=P;f.pushState=S;f.setSpinnerVisibility=V;f.setTitle=U;f.setHeaderButtonsEnabledState=ka;f.openWithPermalinkURI=c;f.showCancelButton=qa;f.removeCancelButtonClickListener=za;f.showBackButton=ra;f.hideBackAndCancelButtons=sa;f.setCustomData=e;f.getCustomData=oa}),null);
__d("MInputFocus",["DOM","MViewport","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){a={scrollTo:function(a,b){i(function(){g.hide(a),h.scrollTo(0,b),g.show(a),a.setSelectionRange(a.selectionEnd,a.selectionEnd)},0)}};e.exports=a}),null);
__d("intlSummarizeNumber",["FbtNumberType","IntlCompactDecimalNumberFormatConfig","IntlVariations","intlNumUtils"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=3,l=14,m={ROUND:"ROUND",TRUNCATE:"TRUNCATE"},n={SHORT:"SHORT",LONG:"LONG"};function a(a,b,c,d){__p&&__p();c===void 0&&(c=n.SHORT);d===void 0&&(d=m.ROUND);c=h[c==n.SHORT?"short_patterns":"long_patterns"];var e=a===0?0:Math.floor(Math.log10(Math.abs(a)));e>l&&(e=l);var f=o(a,e,b,d,c),p=f[0],q=f[1];f=f[2];if(f){e+=1;f=o(a,e,b,d,c);p=f[0];q=f[1];f[2]}d=g.getNumberVariationType(p)||i.NUMBER_OTHER;f=e.toString();f=(c=c)!=null?(c=c[f])!=null?c[d.toString()]:c:c;if(!f||e<k||f.positive_prefix_pattern===""&&f.positive_suffix_pattern===""){d=b===undefined?0:b;return j.formatNumberWithThousandDelimiters(a,d)}return f&&f.min_integer_digits===0&&p===1?f.positive_prefix_pattern+f.positive_suffix_pattern:(f&&f.positive_prefix_pattern||"")+j.formatNumberWithThousandDelimiters(p,q)+(f&&f.positive_suffix_pattern||"")}function o(a,b,c,d,e){__p&&__p();var f=b.toString();f=(e=e)!=null?(e=e[f])!=null?e[i.NUMBER_OTHER.toString()]:e:e;e=f&&f.min_integer_digits||b+1;var g=b-e+1;g=Math.abs(a)/Math.pow(10,g);var h=c!=null;c=h?c:f&&f.min_fraction_digits;c==null&&(c=b>2?1:0);f=d==m.TRUNCATE?j.truncateLongNumber(g.toString(),c):g.toFixed(c);d=parseFloat(f)*(a<0?-1:1);return[d,d%1===0&&!h?0:c,f.length>e+(c>0?c+1:0)+(g>=0?0:1)&&b<l]}e.exports=a}),null);
__d("MUFI",["BanzaiLogger","ClientIDs","MLiveData","Stratcom","UFICommentLikeSubscription","UFICommentSimpleSubscription","UFICommentSubscription","UFILikeSubscription","UFIReactionsUtils","URI","destroyOnUnload","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();var s="m_live_ufi",t,u=[],v=function(event){var a=event.getData();a&&G(a,!0)},w=function(a,b){g.log("LiveWWWFeedbackLoggerConfig",{event:"receive_payload",is_m_site:!0,mechanism:"graphql_subscriptions",time_since_sub:b,update_type:a})},x=function(a,b){var c=k.subscribe(a,function(c){B(a,c,Date.now()-b)});u.push(c)},y=function(a,b){var c=n.subscribe(a,function(c){C(a,c,Date.now()-b)});u.push(c)},z=function(a,b){var c=m.subscribe(a,function(c){D(a,c,Date.now()-b)});u.push(c)},A=function(a,b){var c=l.subscribe(a,function(c){E(a,c,Date.now()-b)});u.push(c)},B=function(a,b,c){w("comment_like",c);a=b&&b.comment_like_subscribe&&b.comment_like_subscribe.feedback;if(!a)return;G({action_data:{action_type:"m-action-like-comment",client_id:b.comment_like_subscribe.client_mutation_id},feedback_data:{ft_ent_identifier:a.legacy_comment_token,has_viewer_liked:a.does_viewer_like,like_count:a.likers?a.likers.count:0,request_id:null}})},C=function(a,b,c){w("like",c);c=b&&b.feedback_like_subscribe&&b.feedback_like_subscribe.feedback;if(!c)return;var d=c.viewer_feedback_reaction_info?c.viewer_feedback_reaction_info.key:0,e=c.viewer_likes_count&&c.viewer_likes_count.text,f=c.viewer_does_not_like_count&&c.viewer_does_not_like_count.text,g=c.viewer_likes_sentence,h=c.viewer_does_not_like_sentence,i=c.viewer_likes_reaction_sentence,j=c.viewer_does_not_like_reaction_sentence,k=o.getReactionCountMapFromSummary(c.reactions_summary),l,m,n={};c.does_viewer_like?(m=[g,h],l=[e,f],n.current=i,n.alternate=j):(m=[h,g],l=[f,e],n.current=j,n.alternate=i);G({action_data:{action_type:"m-action-like",client_id:b.feedback_like_subscribe.client_mutation_id},feedback_data:{ft_ent_identifier:a,has_viewer_liked:c.does_viewer_like,like_count:c.likers?c.likers.count:0,like_fallback:!0,like_sentences:m,like_friend_sentences:l,like_counts:l,request_id:null,viewerreaction:d,reactioncount:c.reactors?c.reactors.count:0,reactionsentences:n,reactioncountmap:k}})},D=function(a,b,c){__p&&__p();w("comment",c);c=b&&b.comment_create_subscribe&&b.comment_create_subscribe.feedback;var d=b&&b.comment_create_subscribe&&b.comment_create_subscribe.comment;if(!c||!d)return;var e=d.author,f=b.comment_create_subscribe.viewer;if(!e||!f)return;f=f.account_user?f.account_user.id:null;f={id:e.id,is_friend:e.is_viewer_friend,is_viewer:!!(f&&e.id===f),name:e.name,short_name:e.short_name,profile_pic:e.prof_pic&&e.prof_pic.uri,profile_pic_2x:e.prof_pic_2x&&e.prof_pic_2x.uri,uri:e.url};e=null;if(d.attachments.length){var g=d.attachments[0],h=g.style_list;if(h&&h.length&&h[0]=="sticker"){var i=g.target;e={metadata:{source_uri:i.img.uri,source_uri_2x:i.img_2x.uri,width:i.img.width,height:i.img.height,frameCount:i.frame_count,frameRate:i.frame_rate,framesPerCol:i.frames_per_column,framesPerRow:i.frames_per_row,sprite_uri:i.sprite_img&&i.sprite_img.uri,sprite_uri_2x:i.sprite_img_2x&&i.sprite_img_2x.uri},type:"sticker"}}else if(h&&h.length&&h[0]=="photo"){i=g.target;e={metadata:{source_uri:i.photo_img&&i.photo_img.uri,width:i.photo_img.width,height:i.photo_img.height,href:i.url},type:"photo"}}else h&&h.length&&h[0]=="share"&&(e={type:"share",metadata:{}})}g=d.m_edit_uri?new p(d.m_edit_uri).removeQueryData("redirect").toString():null;i=null;d.m_inline_reply_data&&(i={composer_id:d.m_inline_reply_data.composer_id,placeholder_id:d.m_inline_reply_data.placeholder_id,load_composer_uri:d.m_inline_reply_data.load_uri_raw,logging_target_fbid:d.m_inline_reply_data.logging_id});h={};if(d.feedback.reactions_summary){var j=d.feedback;h.can_react=j.can_viewer_react;h.reactioncount=j.reactors.count;h.reactioncountmap=o.getReactionCountMapFromSummary(j.reactions_summary);h.reactioncountreduced=j.reaction_count_reduced?j.reaction_count_reduced:j.reactors.count;h.viewerreaction=j.viewer_feedback_reaction_info?j.viewer_feedback_reaction_info.key:0}j=c.comments;var k=c.comment_count_reduced;c=c.top_level_comments;j=j&&j.count;var l=c.count;c=c.display_count;j!=null&&(l=j,k!=null?c=k:c=r(j));G({action_data:babelHelpers["extends"]({action_type:"m-action-add-comment",author:f,attachment:e,body:d.body,can_edit:d.can_viewer_edit,can_like:d.feedback.can_viewer_like,can_remove:d.can_viewer_delete,can_reply:d.feedback.can_viewer_comment,can_report:d.can_viewer_report,can_share:d.can_viewer_share,client_id:b.comment_create_subscribe.client_mutation_id,comment_fbid:d.legacy_fbid,comment_id:d.legacy_token,ft_ent_identifier:a,has_viewer_liked:d.feedback.does_viewer_like,is_featured:d.is_featured,is_hidden:d.is_hidden_by_viewer||d.spam_display_mode==="spam",is_reply:!!d.parent_comment,is_translatable:d.translation_available_for_viewer,like_count:d.feedback.likers.count,timestamp:d.created_time,like_uri:d.m_like_uri,replies_uri:d.m_replies_uri,report_uri:d.m_report_uri,delete_uri:d.m_delete_uri,edit_uri:g,hide_uri:d.m_hide_uri,inline_reply_data:i},h),feedback_data:{ft_ent_identifier:a,comment_count:l,reduced_comment_count:c,request_id:null}})},E=function(a,b,c){__p&&__p();w("comment",c);c=b&&b.comment_create_subscribe&&b.comment_create_subscribe.comment;if(!c||!a)return;var d=c.legacy_token;b=b.comment_create_subscribe.client_mutation_id;b=b&&h.isExistingClientID(b);if(b)return;b=!!c.comment_parent;if(b)return;c=Object.keys(i.get(d).getData()).length;if(c!==0)return;j.invoke("m:ufi:live-comments:new-comment",null,{commentToken:d,feedbackTargetID:a})},F=function(){for(var a=0;a<u.length;a++){var b=u[a];b&&b.unsubscribe()}u=[]};function G(a,b){__p&&__p();var c=a.feedback_data,d=c&&c.ft_ent_identifier;if(d){a=a.action_data;if(a){var e=a.action_type,f=a.client_id&&h.isExistingClientID(a.client_id);if(b){b=null;e==="m-action-add-comment"?b="comment":e==="m-action-like-comment"?b="comment_like":(e==="m-action-like"||e==="m-action-reaction")&&(b="like");b&&g.log("LiveWWWFeedbackLoggerConfig",{event:"receive_payload",is_m_site:!0,mechanism:"livesend",originated_locally:f,update_type:b})}if(f)return;delete a.client_id;if(e==="m-action-add-comment"&&!a.is_reply){b=Object.keys(i.get(a.comment_id).getData()).length;if(b!==0)return;f=i.get(d).getData().comments||[];f.push(a.comment_id);c.comments=f;i.set(a.comment_id,a)}}i.update(d,c)}}function a(a,b){if(!b.gqls)t||(t=j.listen(s,null,v));else{var c=Date.now();b.likes&&y(a,c);b.comments&&(b.simple_comments?A(a,c):z(a,c));b.comment_likes&&x(a,c);q(F)}}e.exports={addAction:G,init:a}}),null);
__d("MUFIComposerFocus",["DOM","MLegacyDataStore","MParent","Parent","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l="mufi-composer-focus",m;function n(a){var b=a.parentNode,c=[];while(b)c.unshift(a),a=b,b=a.parentNode;return c}function o(a,b){var c=Math.min(a.length,b.length)-1;for(var c=c;c>=0;c--)if(a[c]===b[c])return c;return-1}function p(a){__p&&__p();if(!a)return null;var b=i.bySigil(a,"story-div")||i.bySigil(a,"snowflake-root")||i.bySigil(a,"notes-root");if(!b)return null;b=g.scry(b,"*","mufi-composer").filter(function(a){return!i.bySigil(a,"m-inline-reply-composer")});if(b.length===1)return b[0];var c=n(a);a=b.reduce(function(a,b,d){d=n(b);d=o(c,d);return d>=a[0]?[d,b]:a},[-1,null]);return a[1]}function q(event){var a=event.getNode(l);if(!(a instanceof HTMLElement))return;a=p(a);a&&(event.prevent(),a.focus())}function a(a){if(!a||!m)return!1;a=k.hasSigil(a,l)?a:i.bySigil(a,l);return!!p(a)}function r(event){__p&&__p();var a=event.getNode(l);if(!(a instanceof HTMLElement))return;var b=p(a);if(b){var c=i.bySigil(a,"touchable");c&&(h.get(c).nativeClick=!0);c=j.byTag(a,"a");c instanceof HTMLAnchorElement&&(c.href="#"+g.uniqID(b))}}function b(){m||(k.listen("touchstart",l,r),k.listen("click",l,q),m=!0)}e.exports={init:b,isInitialized:function(){return m},isComposerFocusTrigger:a}}),null);
__d("MUFILikeButton",["ActorURI","CSS","DOM","MLegacyDataStore","MLiveData","MParent","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","cx","emptyFunction"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();var s={is_like:1},t={is_like:0};function a(a,b,c,d){"use strict";this.$1=a,this.$2=k.get(b),this.$4=b,this.$5=c||{log:r},this.$6=d,this.$7=m.getConfigForBackgroundRetry(b),this.$3=new p(),this.$3.addSubscriptions(i.listen(this.$1,"click",null,this.onClick.bind(this)),this.$2.listen("change",this.onChange.bind(this)),o.listen("m:page:unload",null,this.onUnload.bind(this)))}a.prototype.onChange=function(){"use strict";var a=this.$2.getData();if(a.request_id===this.$6)return;a=a.has_viewer_liked;h.conditionClass(this.$1,"_2q8z",a);o.removeSigil(this.$1,a?"like":"unlike");o.addSigil(this.$1,a?"unlike":"like")};a.prototype.getFeedbackData=function(){"use strict";var a=this.$2.getData(),b=a.has_viewer_liked,c=b?a.like_count-1:a.like_count+1,d=a.reduced_like_count;isNaN(d)||(d=c.toString());return{has_viewer_liked:!b,like_count:c,like_counts:[a.like_counts[1]||null,a.like_counts[0]],like_friend_sentences:[a.like_friend_sentences[1]||null,a.like_friend_sentences[0]],like_sentences:[a.like_sentences[1]||null,a.like_sentences[0]],reduced_like_count:d}};a.prototype.getRequestData=function(){"use strict";return null};a.prototype.onClick=function(event){"use strict";__p&&__p();event.prevent();var a=event.getNode("tag:a");a||(a=event.getNode("tag:div"));if(!a)return;a=n.getURI(a.getAttribute("href")||a.getAttribute("data-uri"));this.$2.getData().has_viewer_liked?(a.addQueryData("ul",!0),a.removeQueryData("reaction_type")):a.removeQueryData(["ul","reaction_type"]);var b=l.bySigil(this.$1,"feed-ufi-metadata");if(b){b=j.get(b).actor_id;b&&(a=g.create(a,String(b)))}n.send(this.$4,this.getFeedbackData(),a,this.getRequestData(),this.$7);this.$5.log("like",undefined,this.$2.getData().has_viewer_liked?t:s)};a.prototype.onUnload=function(){"use strict";this.$3.release(),this.$3=null};e.exports=a}),null);
__d("UFIUIEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ActionAddComment:"UFIUIEvents/ufiActionAddComment",ActionLinkLike:"UFIUIEvents/ufiActionLinkLike",Blur:"ufi/blur",Changed:"ufi/changed",Comment:"ufi/comment",CommentChanged:"ufi/commentChanged",CommentPager:"CommentUFI.Pager",CommentPivot:"ufi/comment_pivot",Focus:"ufi/focus",InputHeightChanged:"ufi/inputHeightChanged",PageCleared:"ufi/page_cleared",PhotoPreviewHeightChanged:"ufi/photoPreviewHightChanged",TranslationRendered:"ufi/translationRendered",ReactionButtonClicked:"ufi/reactionButtonClicked"})}),null);
__d("MUFIReactionButton",["CSS","DOM","MAudioController","MLiveData","MUFILikeButton","MUFIReactionsUtils","Stratcom","Style","UFIReactionIcons","UFIReactionTypes","UFIUIEvents","createIxElement","cx","fbt","gkx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){__p&&__p();var v,w=1,x=0,y=16;b=babelHelpers.inherits(a,k);v=b&&b.prototype;function a(a,b,c,d,e,f,g){"use strict";v.constructor.call(this,a,b,c,d),this.$MUFIReactionButton1=a,this.$MUFIReactionButton2=j.get(b),this.$MUFIReactionButton3=b,this.$MUFIReactionButton4=d,this.$MUFIReactionButton5=e||y,this.$MUFIReactionButton6=f,this.$MUFIReactionButton7=!!g,a.href&&a.setAttribute("data-uri",a.href),a.removeAttribute("href")}a.prototype.onChange=function(){"use strict";__p&&__p();var a=this.$MUFIReactionButton2.getData();if(a.request_id===this.$MUFIReactionButton4)return;var b,c;a=a.viewerreaction;var d=!!a;a&&!p.reactions[a]&&(a=null);if(!a)b="inherit",c=t._("Curtir"),this.$MUFIReactionButton7&&(c="");else{var e=null;if(a!==w){var f=o[a][this.$MUFIReactionButton5];f||(f=o[a][y]);e=r(f);g.addClass(e,"_4h-b")}b=p.reactions[a].color;c=[e,this.$MUFIReactionButton7?"":p.reactions[a].display_name]}h.setContent(this.$MUFIReactionButton1,c);this.$MUFIReactionButton1.setAttribute("aria-pressed",d);g.conditionClass(this.$MUFIReactionButton1,"_1boq",d&&a!==w);g.conditionClass(this.$MUFIReactionButton1,"_2q8z",d&&a===w);n.set(this.$MUFIReactionButton1,"color",b);m.removeSigil(this.$MUFIReactionButton1,d?"like":"unlike");m.addSigil(this.$MUFIReactionButton1,d?"unlike":"like");m.invoke(q.ReactionButtonClicked,null,this.getRequestData())};a.prototype.getFeedbackData=function(){"use strict";var a=this.$MUFIReactionButton2.getData();return l.getReactionData(a,a.has_viewer_liked||a.viewerreaction?x:w)};a.prototype.getRequestData=function(){"use strict";var a=this.$MUFIReactionButton2.getData(),b=a.has_viewer_liked||a.viewerreaction;return{reaction_type:b?x:w,ft_ent_identifier:a.ft_ent_identifier}};a.prototype.onClick=function(event){"use strict";var a=this.$MUFIReactionButton2.getData().viewerreaction;a===x&&(u("AT40lEHlW1W1GcOBl4c2kgQjHs0w2XXrcq0xqcVmpsvPM5HZOaApLUCfuEs6a-qW7HzScKadE9YYd3UaaKChGMFl")&&i.play("reactions","like"));if(m.hasSigil(this.$MUFIReactionButton1,"kaios-like-react-trigger")){a=this.$MUFIReactionButton2.getData();a.viewerreaction&&event.stop()}v.onClick.call(this,event)};e.exports=a}),null);
__d("ShareModeConst",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SELF_PAGE:"selfpage",PAGE:"page",SELF_POST:"self",FRIEND:"friend",GROUP:"group",FUNDRAISER:"fundraiser",ALBUM:"album",MESSAGE:"message",ONE_CLICK:"oneclick",EVENT:"event",UNKNOWN:"unknown",SILENT_DISCO:"silent_disco",OWN_POST:"own"})}),null);
__d("prefetchImage",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){__p&&__p();var c=!0,d=new Image();d.onload=function(){c=!1,b&&b()};d.src=a;return{cancel:function(){if(!c)return;c=!1;d.onload=null;d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}}}e.exports=a}),null);
if (self.CavalryLogger) { CavalryLogger.start_js(["f43dj"]); }

__d("MAria",["createArrayFromMixed"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a.length>1?Array.from(a):g(a[0])}function i(a){return!a?null:a.getAttribute("aria-hidden")==="true"}function j(a){if(!a)return;a=h(arguments);for(var b=0,c=a.length;b<c;b++)a[b].setAttribute("aria-hidden","false")}function k(a){if(!a)return;a=h(arguments);for(var b=0,c=a.length;b<c;b++)a[b].setAttribute("aria-hidden","true")}function a(a){if(!a)return;a=h(arguments);for(var b=0,c=a.length;b<c;b++)i(a[b])?j(a[b]):k(a[b])}function b(a,b){if(!a)return;b===null?a.removeAttribute("aria-label"):a.setAttribute("aria-label",b)}function c(a){if(!a)return null;a=a.getAttribute("aria-label");return a!==null&&a!==""}function d(a,b){a.setAttribute("aria-haspopup","true"),a.setAttribute("aria-controls",b.getAttribute("id")),l(a,b)}function f(a,b){a.setAttribute("aria-pressed","true"),b&&(b.setAttribute("aria-hidden","false"),b.setAttribute("aria-expanded","true"))}function l(a,b){a.setAttribute("aria-pressed","false"),b&&(b.setAttribute("aria-hidden","true"),b.setAttribute("aria-expanded","false"))}a={show:j,hide:k,isHidden:i,toggleVisibility:a,setLabel:b,hasLabel:c,setupPopup:d,showPopup:f,hidePopup:l};e.exports=a}),null);
__d("MVerifyCache",["MCache"],(function(a,b,c,d,e,f,g){a=function(a){var b=g.VIEWER_KEY,c=g.getItem(b);c!==a.viewer&&(c&&g.clear(),g.setItem(b,a.viewer,!0))};f.main=a}),null);
__d("MPageError",["DOM","FBLogger","LoadingIndicator","MErrorCodes","MPageController","Stratcom","$"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n=m("mErrorView"),o=g.find(n,"div","error-message");l.listen("click","MPageError:retry",k.reload);l.listen("m:page:loading",null,function(a){g.hide(n)});l.listen("m:page:error",null,function(a){a=a.getData();var b=j.getMessage(a);i.hide();g.setContent(o,b);g.show(n);h("FIXME").warn("Error code: %s",a)})}),null);
__d("MPageHeaderAccessibility",["DOM","MAria","Stratcom"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=document.body;var j=g.scry(a,"*","mChromeHeaderCenter")[0],k=g.scry(a,"*","mChromeHeaderRight")[0],l=document.getElementById("root");function m(a){a&&h.show(a)}function n(a){a&&h.hide(a)}i.listen("m:side-area:show",null,function(a){n(j),n(k),n(l)});i.listen("m:side-area:hide",null,function(a){m(j),m(k),m(l)});e.exports={}}),null);
__d("BanzaiConsts",[],(function(a,b,c,d,e,f){a={SEND:"Banzai:SEND",OK:"Banzai:OK",ERROR:"Banzai:ERROR",SHUTDOWN:"Banzai:SHUTDOWN",VITAL_WAIT:1e3,BASIC_WAIT:6e4,EXPIRY:30*6e4};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/qZmK4zWM8-v/
 */
__d("SnappyCompress",[],(function(a,b,c,d,e,f){__p&&__p();(function a(b,c,d){__p&&__p();function e(g,h){__p&&__p();if(!c[g]){if(!b[g]){var i=typeof requireSnappy=="function"&&requireSnappy;if(!h&&i)return i(g,!0);if(f)return f(g,!0);h=new Error("Cannot find module '"+g+"'");throw h.code="MODULE_NOT_FOUND",h}i=c[g]={exports:{}};b[g][0].call(i.exports,function(a){var c=b[g][1][a];return e(c?c:a)},i,i.exports,a,b,c,d)}return c[g].exports}var f=typeof requireSnappy=="function"&&requireSnappy;for(var g=0;g<d.length;g++)e(d[g]);return e})({1:[function(c,a,b){a=window.SnappyJS||{};a.uncompress=c("./index").uncompress,a.compress=c("./index").compress,window.SnappyJS=a},{"./index":2}],2:[function(c,a,b){"use strict";__p&&__p();function a(){return"object"==typeof process&&"object"==typeof process.versions&&"undefined"!=typeof process.versions.node?!0:!1}function d(a){return a instanceof Uint8Array&&(!k||!Buffer.isBuffer(a))}function g(a){return a instanceof ArrayBuffer}function h(a){return k?Buffer.isBuffer(a):!1}function i(a){__p&&__p();if(!d(a)&&!g(a)&&!h(a))throw new TypeError(n);var b=!1,c=!1;d(a)?b=!0:g(a)&&(c=!0,a=new Uint8Array(a));a=new l(a);var e=a.readUncompressedLength();if(-1===e)throw new Error("Invalid Snappy bitstream");if(b){if(b=new Uint8Array(e),!a.uncompressToBuffer(b))throw new Error("Invalid Snappy bitstream")}else if(c){if(b=new ArrayBuffer(e),c=new Uint8Array(b),!a.uncompressToBuffer(c))throw new Error("Invalid Snappy bitstream")}else if(b=new Buffer(e),!a.uncompressToBuffer(b))throw new Error("Invalid Snappy bitstream");return b}function j(a){if(!d(a)&&!g(a)&&!h(a))throw new TypeError(n);var b=!1,c=!1;d(a)?b=!0:g(a)&&(c=!0,a=new Uint8Array(a));var e;a=new m(a);var f=a.maxCompressedLength();return b?(b=new Uint8Array(f),e=a.compressToBuffer(b)):c?(b=new ArrayBuffer(f),c=new Uint8Array(b),e=a.compressToBuffer(c)):(b=new Buffer(f),e=a.compressToBuffer(b)),b.slice(0,e)}var k=a(),l=c("./snappy_decompressor").SnappyDecompressor,m=c("./snappy_compressor").SnappyCompressor,n="Argument compressed must be type of ArrayBuffer, Buffer, or Uint8Array";b.uncompress=i,b.compress=j},{"./snappy_compressor":3,"./snappy_decompressor":4}],3:[function(c,a,b){"use strict";__p&&__p();function d(a,b){return 506832829*a>>>b}function g(a,b){return a[b]+(a[b+1]<<8)+(a[b+2]<<16)+(a[b+3]<<24)}function h(a,b,c){return a[b]===a[c]&&a[b+1]===a[c+1]&&a[b+2]===a[c+2]&&a[b+3]===a[c+3]}function i(a,b,c,d,e){var f;for(f=0;e>f;f++)c[d+f]=a[b+f]}function j(a,b,c,d,e){return 60>=c?(d[e]=c-1<<2,e+=1):256>c?(d[e]=240,d[e+1]=c-1,e+=2):(d[e]=244,d[e+1]=c-1&255,d[e+2]=c-1>>>8,e+=3),i(a,b,d,e,c),e+c}function k(a,b,c,d){return 12>d&&2048>c?(a[b]=1+(d-4<<2)+(c>>>8<<5),a[b+1]=255&c,b+2):(a[b]=2+(d-1<<2),a[b+1]=255&c,a[b+2]=c>>>8,b+3)}function l(a,b,c,d){for(;d>=68;)b=k(a,b,c,64),d-=64;return d>64&&(b=k(a,b,c,60),d-=60),k(a,b,c,d)}function m(a,b,c,e,f){__p&&__p();for(var i=1;c>=1<<i&&p>=i;)i+=1;i-=1;var k=32-i;"undefined"==typeof q[i]&&(q[i]=new Uint16Array(1<<i));var m;i=q[i];for(m=0;m<i.length;m++)i[m]=0;var n,o,r,s,t;m=b+c;var u=b,v=b,w=!0,x=15;if(c>=x)for(c=m-x,b+=1,x=d(g(a,b),k);w;){s=32,o=b;do{if(b=o,n=x,t=s>>>5,s+=1,o=b+t,b>c){w=!1;break}x=d(g(a,o),k),r=u+i[n],i[n]=b-u}while(!h(a,b,r));if(!w)break;f=j(a,v,b-v,e,f);do{for(t=b,n=4;m>b+n&&a[b+n]===a[r+n];)n+=1;if(b+=n,o=t-r,f=l(e,f,o,n),v=b,b>=c){w=!1;break}s=d(g(a,b-1),k),i[s]=b-1-u,t=d(g(a,b),k),r=u+i[t],i[t]=b-u}while(h(a,b,r));if(!w)break;b+=1,x=d(g(a,b),k)}return m>v&&(f=j(a,v,m-v,e,f)),f}function n(a,b,c){do b[c]=127&a,a>>>=7,a>0&&(b[c]+=128),c+=1;while(a>0);return c}function c(a){this.array=a}a=16;var o=1<<a,p=14,q=new Array(p+1);c.prototype.maxCompressedLength=function(){var a=this.array.length;return 32+a+Math.floor(a/6)},c.prototype.compressToBuffer=function(a){var b,c=this.array,d=c.length,e=0,f=0;for(f=n(d,a,f);d>e;)b=Math.min(d-e,o),f=m(c,e,b,a,f),e+=b;return f},b.SnappyCompressor=c},{}],4:[function(c,a,b){"use strict";__p&&__p();function d(a,b,c,d,e){var f;for(f=0;e>f;f++)c[d+f]=a[b+f]}function g(a,b,c,d){var e;for(e=0;d>e;e++)a[b+e]=a[b-c+e]}function c(a){this.array=a,this.pos=0}var h=[0,255,65535,16777215,4294967295];c.prototype.readUncompressedLength=function(){for(var a,b,c=0,d=0;32>d&&this.pos<this.array.length;){if(a=this.array[this.pos],this.pos+=1,b=127&a,b<<d>>>d!==b)return-1;if(c|=b<<d,128>a)return c;d+=7}return-1},c.prototype.uncompressToBuffer=function(a){__p&&__p();for(var b,c,e,f,i=this.array,j=i.length,k=this.pos,l=0;k<i.length;)if(b=i[k],k+=1,0===(3&b)){if(c=(b>>>2)+1,c>60){if(k+3>=j)return!1;e=c-60,c=i[k]+(i[k+1]<<8)+(i[k+2]<<16)+(i[k+3]<<24),c=(c&h[e])+1,k+=e}if(k+c>j)return!1;d(i,k,a,l,c),k+=c,l+=c}else{switch(3&b){case 1:c=(b>>>2&7)+4,f=i[k]+(b>>>5<<8),k+=1;break;case 2:if(k+1>=j)return!1;c=(b>>>2)+1,f=i[k]+(i[k+1]<<8),k+=2;break;case 3:if(k+3>=j)return!1;c=(b>>>2)+1,f=i[k]+(i[k+1]<<8)+(i[k+2]<<16)+(i[k+3]<<24),k+=4}if(0===f||f>l)return!1;g(a,l,f,c),l+=c}return!0},b.SnappyDecompressor=c},{}]},{},[1]),e.exports=SnappyJS}),null);
__d("SnappyCompressUtil",["SnappyCompress"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={compressUint8ArrayToSnappy:function(a){__p&&__p();if(a==null)return null;var b=null;try{b=g.compress(a)}catch(a){return null}a="";for(var c=0;c<b.length;c++)a+=String.fromCharCode(b[c]);return window.btoa(a)},compressStringToSnappy:function(a){__p&&__p();if(window.Uint8Array===undefined||window.btoa===undefined)return null;var b=new window.Uint8Array(a.length);for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);if(d>127)return null;b[c]=d}return h.compressUint8ArrayToSnappy(b)}};e.exports=h}),null);
__d("BanzaiAdapter",["BanzaiConsts","CurrentUser","DTSG","DTSGUtils","MBanzaiConfig","MRequest","MRequestConfig","MRequestDataSerializer","MSession","Run","SnappyCompressUtil","SprinkleConfig","Stratcom","Visibility","ZeroCategoryHeader"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){__p&&__p();var v="/a/bz",w="banzai",x=[],y={config:k,endpoint:v,useBeacon:!1,inform:function(a){s.invoke(a)},subscribe:function(a,b){return s.listen(a,null,b)},cleanup:function(){var a=x;x=[];a.forEach(function(a){a.abort()})},send:function(a,b,c,d){__p&&__p();var e=new l(v);e.setAutoProcess(!1);e.setData(y.prepForTransit(a));e.setRequestHeader("X_FB_BACKGROUND_STATE",1);b&&e.listen("done",b);d||e.listen("done",function(event){y.inform(g.OK)});e.listen("error",function(a){a.isHandled=!0;a=e.getTransport().status;c&&c(a);d||y.inform(g.ERROR)});e.setFailureLogging(w);x.push(e);e.send()},readyToSend:function(){return navigator.onLine},setHooks:function(a){t.addListener("hidden",a._store),t.addListener("visible",a._restore),window.addEventListener("pagehide",a._store),window.addEventListener("pageshow",a._restore),window.addEventListener("blur",a._store),window.addEventListener("focus",a._restore)},setUnloadHook:function(a){p.onUnload(a._unload)},onUnload:function(a){p.onUnload(a)},addRequestAuthData:function(a){var b=i.getCachedToken(),c=[["fb_dtsg",b],["__ajax__",m.ajaxResponseToken.encrypted],["__user",h.getID()],["__fbbk",1]];m.lsd&&c.push(["lsd",m.lsd]);b&&r.param_name&&c.push([r.param_name,j.getNumericValue(b)]);for(var d in a)c.push([d,a[d]]);return n.defaultDataSerializer(c)},prepForTransit:function(a){a=JSON.stringify(a);return{data:a,ts:Date.now(),ph:o.push_phase}},prepWadForTransit:function(a){if(a.snappy==null||a.snappy===!0){var b=Date.now(),c=JSON.stringify(a.posts),d=q.compressStringToSnappy(c);d!=null&&d.length<c.length?(a.posts=d,a.snappy_ms=Date.now()-b):delete a.snappy}},isOkToSendViaBeacon:function(){return!u.value&&i.getCachedToken()}};e.exports=y}),null);
__d("MExceptionReportingMarauderLogger",["ErrorUtils"],(function(a,b,c,d,e,f,g){function h(a){d(["MarauderLogger"],function(b){b.log("js_exception",undefined,a),a=null})}function a(a,b,c){h({message:a,context:b,stack_trace:c})}g.addListener(function(a){h(a)});e.exports.log=a}),null);
__d("TimeSpentArray",["Banzai","TimeSlice","clearTimeout","pageID","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=2,m=l*32,n,o,p,q,r,s,t,u,v,w={},x;function y(){return{timeoutDelayMap:w,nextDelay:x,timeoutInSeconds:p}}function z(){if(n){var a=Date.now();a>r&&(t=Math.min(m,Math.ceil(a/1e3-q)));a=E();a&&n(a,x)}D()}function A(){B(),o=k(h.guard(z,"TimeSpentArray Timeout",{propagationType:h.PropagationType.ORPHAN}),p*1e3)}function B(){o&&(i(o),o=null)}function C(a){__p&&__p();q=a;r=q*1e3;s=[1];for(var a=1;a<l;a++)s.push(0);t=1;u+=1;v+=1;a=v.toString()+"_delay";x=w[a];x===undefined&&(x=w.delay);a=v.toString()+"_timeout";a=w[a];a===undefined&&(a=w.timeout);a=Math.min(a,m);p=a||m;A()}function D(){B(),s=null}function E(){return!s?null:{tos_id:j,start_time:q,tos_array:s.slice(0),tos_len:t,tos_seq:v,tos_cum:u}}function F(a){if(a>=r&&a-r<1e3)return;G(Math.floor(a/1e3))}function G(a){var b=a-q;(b<0||b>=m)&&z();!s?C(a):(s[b>>5]|=1<<(b&31),t=b+1,u+=1,r=a*1e3)}e.exports={init:function(a,b,c){u=0,v=-1,n=a,typeof b==="object"&&b!==null?w=b:w={},c||(c=Date.now()),C(Math.floor(c/1e3)),g.subscribe(g.SHUTDOWN,z)},update:function(a){F(a)},get:function(){return E()},ship:function(){z()},reset:function(){D()},testState:function(){return y()}}}),null);
__d("TimeSpentImmediateActiveSecondsLogger",["Banzai","ImmediateActiveSecondsConfig","ScriptPath"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j="immediate_active_seconds",k={signal:!0,retry:!0},l=h.sampling_rate,m=h.ias_bucket,n=0;function o(a){if(l<=0)return!1;a=Math.floor(a/1e3)%l;return a===m}function a(a){if(a>=n&&a-n<1e3)return;if(o(a)){var b={activity_time_ms:a,last_activity_time_ms:n,script_path:i.getTopViewEndpoint()};try{g.post(j,b,k)}catch(a){}}n=Math.floor(a/1e3)*1e3}e.exports={maybeReportActiveSecond:a}}),null);
__d("MTimeSpentBitArrayLogger",["Banzai","BanzaiODS","CurrentUser","MarauderLogger","Stratcom","TimeSpentArray","TimeSpentImmediateActiveSecondsLogger","Visibility","isInIframe"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();function p(){l.ship()}function q(){var a=Date.now();l.update(a);m.maybeReportActiveSecond(a)}function r(a){if(g.isEnabled("mtouch_bit_array_use_banzai")){var b=i.isLoggedIn()?g.VITAL:g.BASIC;a._m="1";g.post("time_spent_bit_array",a,b);return}j.log("time_spent_bit_array",undefined,a,undefined,undefined,undefined,Date.now())}function s(){return["gesturestart","mousedown","touchstart","scroll","keydown"]}function t(){var a=s();k.listen(a,null,q);a="onpagehide"in window?["pagehide","blur"]:["blur"];k.listen(a,null,p);n.addListener("hidden",p)}e.exports={init:function(a){if(o())return;var b=Date.now();l.init(r,null,b);t();m.maybeReportActiveSecond(b);h.bumpEntityKey("ms.time_spent.qa."+a,"time_spent.bits.js_initialized")},getMonitoredEvents:s}}),null);
__d("MTabbable",["MAria","MJSEnvironment","MViewport","isNodeWithinRect"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();function k(a,b){while(a&&a!==b){if(g.isHidden(a))return!0;a=a.parentNode}return!1}function l(a,b){if(a.offsetHeight===0||a.offsetWidth===0||window.getComputedStyle(a).visibility==="hidden"||parseInt(a.tabIndex,10)<0||k(a,b))return!1;if(a.tabIndex>=0)return!0;switch(a.tagName){case"A":return a.href&&a.rel!="ignore";case"INPUT":return a.type!="hidden"&&a.type!="file"&&!a.disabled;case"BUTTON":case"SELECT":case"TEXTAREA":return!a.disabled}return!1}function a(a){__p&&__p();if(!a.getBoundingClientRect)return;var b=h.IS_APPLE_WEBKIT_IOS&&parseFloat(h.OS_VERSION)>=8||h.BROWSER_NAME==="Safari"&&!h.IS_APPLE_WEBKIT_IOS;b=b?a.querySelectorAll("a, button, select, [tabindex]"):a.querySelectorAll("a, button, input, select, textarea, [tabindex]");var c=i.getBoundingRect();for(var d=0,e;e=b[d];d++)if(l(e,a)&&j(e,c)){e.focus();return}}f.focusTabbable=a}),null);
__d("MModalDialogInit",["MModalDialog"],(function(a,b,c,d,e,f,g){a.FW_ENABLED||g.init()}),null);
__d("ArtillerySegment",["invariant","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=0;function a(a){"use strict";a||g(0),"category"in a&&"description"in a||g(0),this.$1=!1,this.$2=babelHelpers["extends"]({},a,{id:(i++).toString(36)}),this.$3=[]}a.prototype.getID=function(){"use strict";return this.$2.id};a.prototype.begin=function(){"use strict";this.$2.begin=h();return this};a.prototype.end=function(){"use strict";this.$2.end=h();return this};a.prototype.appendChild=function(){"use strict";this.$1&&g(0);for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];b.forEach(function(a){this.$3.push(a.getID())}.bind(this));return this};a.prototype.setPosted=function(){"use strict";this.$1=!0;return this};a.prototype.getPostData=function(){"use strict";return babelHelpers["extends"]({},this.$2,{id:this.$2.id,children:this.$3.slice()})};e.exports=a}),null);
__d("ArtillerySequence",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();var h=0;function a(a){"use strict";a||g(0),"description"in a||g(0),this.$1=!1,this.$2=babelHelpers["extends"]({},a,{id:(h++).toString(36)}),this.$3=[]}a.prototype.getID=function(){"use strict";return this.$2.id};a.prototype.addSegment=function(){"use strict";this.$1&&g(0);for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];b.forEach(function(a){this.$3.push(a.getID())}.bind(this));return this};a.prototype.setPosted=function(){"use strict";this.$1=!0;return this};a.prototype.getPostData=function(){"use strict";return babelHelpers["extends"]({},this.$2,{id:this.$2.id,segments:this.$3.slice()})};e.exports=a}),null);
__d("ArtilleryTrace",["ArtillerySegment","ArtillerySequence","invariant"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();function a(){"use strict";this.$1=!1,this.$3=undefined,this.$4={},this.$5={},this.$6=[],this.$7=[],this.$8={},this.$9=[],this.$10=null}a.prototype.createSequence=function(a){"use strict";this.$1&&i(0);a=new h(a);this.$6.push(a);return a};a.prototype.createSegment=function(a){"use strict";this.$1&&i(0);a=new g(a);this.$7.push(a);return a};a.prototype.markSegment=function(a,b){"use strict";this.$1&&i(0);this.$8[b]=a.getID();return this};a.prototype.connectTrace=function(a,b){"use strict";this.$1&&i(0);b=b||this.$2;b||i(0);this.$9.push({segment:a.getID(),trace:b});return this};a.prototype.setID=function(a,b){"use strict";!this.$2&&!this.$3||i(0);this.$2=a;this.$3=b;return this};a.prototype.getID=function(){"use strict";return this.$2};a.prototype.getArtillery2ID=function(){"use strict";return this.$3};a.prototype.addProperty=function(a,b){"use strict";this.$4[a]=b;return this};a.prototype.addTagset=function(a,b){"use strict";this.$5[a]=b;return this};a.prototype.addActivePolicies=function(a){"use strict";this.addTagset("active_policies",a);this.addTagset("policy",a);return this};a.prototype.getProperty=function(a){"use strict";return this.$4[a]};a.prototype.getTagset=function(a){"use strict";return this.$5[a]};a.prototype.getActivePolicies=function(){"use strict";return this.getTagset("active_policies")};a.prototype.post=function(){"use strict";this.$1&&i(0);this.$1=!0;var a=this.$10;a&&a({id:this.$2,artillery2Id:this.$3,properties:this.$4,tagsets:this.$5,sequences:this.$6.map(function(a){return a.setPosted().getPostData()}),segments:this.$7.map(function(a){return a.setPosted().getPostData()}),marks:Object.assign({},this.$8),connections:this.$9.slice()})};a.prototype.setOnPost=function(a){"use strict";this.$10&&i(0);this.$10=a;return this};a.prototype.isPosted=function(){"use strict";return this.$1};e.exports=a}),null);
__d("ServiceWorkerRegistration",["Promise","ClientServiceWorkerMessage","EventListener","Run","promiseDone"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=!!navigator.serviceWorker,m={};function n(){var a=navigator.serviceWorker;if(!l||!a)throw new Error("serviceWorker is not supported in this browser");return a}var o={isSupported:function(){return l},registerWorkerIfUnregisteredAfterDD:function(a){j.onAfterLoad(function(){o.registerWorkerIfUnregistered(a)})},registerWorkerIfUnregistered:function(a){__p&&__p();if(m[a])return m[a];var b=n();m[a]=new g(function(c,d){this.getWorkerRegistration(a).done(function(e){if(!e){var f=i.listen(window,"message",function(event){event.data&&event.data.command&&event.data.command==="ServiceWorkerInstallError"&&d()});k(g.resolve(b.register(a,{updateViaCache:"all"})),function(){f.remove(),k(g.resolve(b.ready),c)})}else c(e)})}.bind(this));m[a].done(function(){m[a]=null});return m[a]},unregisterControllingWorker:function(){return new g(function(a,b){b=new h("unregister",{},function(){a(!0)});b.sendViaController()})},getWorkerRegistration:function(a){var b=n();return g.resolve(b.getRegistration(a))},isAWorkerActivated:function(){return!navigator.serviceWorker||!navigator.serviceWorker.getRegistration?g.resolve(!1):navigator.serviceWorker.getRegistration().then(function(a){return!!(a&&a.active)})}};e.exports=o}),null);
__d("Artillery",["ArtilleryTrace","Banzai","ClientServiceWorkerMessage","Run","ServiceWorkerRegistration","forEachObject","invariant","mixInEventEmitter","performance"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();var p=!1,q=!1,r=[],s,t,u,v={},w={},x=!1,y=!1;function z(){if(p)return;p=!0;h.subscribe(h.SHUTDOWN,function(){B._postAll()})}function A(){t=null,s=null,w={},v={},u=null,y=!1}var B={isEnabled:function(){return q},createTrace:function(){z();var a=new g();a.setOnPost(function(a){B.emitAndHold("posttrace",a)});r.push(a);return a},getPageTrace:function(){__p&&__p();s||m(0);if(u)return u;var a=B.createTrace().setID(s,t);l(v,function(b,c,d){a.addProperty(c,b)});l(w,function(b,c,d){a.addTagset(c,b)});u=a;return a},setPageProperties:function(a){v=a},addPageTagset:function(a,b){u==null?w[a]=b:u.addTagset(a,b)},setActivePolicies:function(a){this.addPageTagset("active_policies",a),this.addPageTagset("policy",a)},getPageActivePolicies:function(){return this.getPageTagset("active_policies")},enableLogServiceWorker:function(){k.isSupported()&&(x=!0)},getPageProperty:function(a){if(u==null)return v[a];else return u.getProperty(a)},getPageTagset:function(a){if(u==null)return w[a];else return u.getTagset(a)},enable:function(){q=!0,y||(j.onLeave(A),y=!0)},disable:function(){q=!1},setPageTraceID:function(a,b){if(s===a&&t===b)return;!s&&!t||m(0);s=a;t=b;if(x&&o&&o.timing&&o.timing.navigationStart){a=new i("asw-sendStartupData",{traceID:t,windowStart:o.timing.navigationStart},null);a.sendViaController()}},addPiggyback:function(a,b){window.CavalryLogger&&window.CavalryLogger.getInstance().addPiggyback(a,b)},_postAll:function(){r.forEach(function(a){return!a.isPosted()&&a.post()})}};n(B,{posttrace:!0});e.exports=B}),null);
__d("BanzaiStreamPayloads",[],(function(a,b,c,d,e,f){"use strict";var g={};a={addPayload:function(a,b){g[a]=b},removePayload:function(a){delete g[a]},unload:function(a){Object.keys(g).forEach(function(b){b=g[b];a(b.route,b.payload)})}};e.exports=a}),null);
__d("SetIdleTimeoutAcrossTransitions",["NavigationMetrics","cancelIdleCallback","clearTimeout","nullthrows","requestIdleCallbackAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=!1,n=new Map();b={start:function(a,b){if(m){var c=l(function(){var b=k(function(){a(),n["delete"](b)});n.set(c,b)},b);return c}else return l(a,b)},clear:function(a){i(a),n.has(a)&&(h(j(n.get(a))),n["delete"](a))}};g.addRetroactiveListener(g.Events.EVENT_OCCURRED,function(b,c){c.event==="all_pagelets_loaded"&&(m=!!a.requestIdleCallback)});e.exports=b}),null);
__d("WebStorageMutex",["WebStorage","clearTimeout","pageID","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=null,l=!1,m=i;function n(){l||(l=!0,k=g.getLocalStorage());return k}function a(a){"use strict";this.name=a}a.testSetPageID=function(a){"use strict";m=a};a.prototype.$1=function(){"use strict";if(!n())return m;var a=n().getItem("mutex_"+this.name);a=a?a.split(":"):null;return a&&a[1]>=Date.now()?a[0]:null};a.prototype.$2=function(a){"use strict";if(!n())return;a=Date.now()+(a||1e4);g.setItemGuarded(n(),"mutex_"+this.name,m+":"+a)};a.prototype.hasLock=function(){"use strict";return this.$1()==m};a.prototype.lock=function(a,b,c){"use strict";this.$3&&h(this.$3),m==(this.$1()||m)&&this.$2(c),this.$3=j(function(){this.$3=null;var c=this.hasLock()?a:b;c&&c(this)}.bind(this),0)};a.prototype.unlock=function(){"use strict";this.$3&&h(this.$3),n()&&this.hasLock()&&n().removeItem("mutex_"+this.name)};e.exports=a}),null);
__d("BanzaiOld",["BanzaiStreamPayloads","CurrentUser","ErrorUtils","ExecutionEnvironment","FBJSON","FBLogger","NavigationMetrics","SetIdleTimeoutAcrossTransitions","TimeSlice","Visibility","WebStorage","emptyFunction","isInIframe","lowerFacebookDomain","onAfterDisplay","pageID","performanceAbsoluteNow","BanzaiAdapter","WebStorageMutex"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){__p&&__p();var x={adapter:b("BanzaiAdapter")},y=x.adapter,z=s(),A="bz:",B="ods:banzai",C="send_via_beacon_failure",D=0,E=1,F=2,G,H,I=[],J=null,K=[];function L(a){return a[2]>=w()-(y.config.EXPIRY||x.EXPIRY)}function M(a,b){a.__meta.status=D,a[3]=(a[3]||0)+1,!a.__meta.retry&&b>=400&&b<600&&I.push(a)}function N(a,b,c,d){a=[a,b,c,0];a.__meta={retry:d===!0,pageID:v,userID:h.getID(),status:D};return a}function O(){__p&&__p();var a=[];K.forEach(function(b){var c=b.cb();c.forEach(function(c){var d=b.route;if(d){d=N(d,c,w());d.__meta.onSuccess=b.onSuccess;d.__meta.onFailure=b.onFailure;a.push(d)}})});K=[];var b=[],c=[];T(b,c,!0,a);if(b.length>0){b[0].send_method="beacon";b.map(y.prepWadForTransit);b=new Blob([y.addRequestAuthData(y.prepForTransit(b))],{type:"application/x-www-form-urlencoded"});b=navigator.sendBeacon(x.adapter.endpoint,b);b?c.forEach(function(b){return a.__meta&&b.__meta.onSuccess&&b.__meta.onSuccess()}):c.forEach(function(b){return a.__meta&&b.__meta.onFailure&&b.__meta.onFailure()})}}function P(a){__p&&__p();var b=w()+a;if(!H||b<H){H=b;n.clear(G);b=function(){G=n.start(Q,a)};b();return!0}return!1}var Q=o.guard(function(){R(null,null)},"Banzai.send",{propagationType:o.PropagationType.ORPHAN});function R(a,b){__p&&__p();H=null;P(x.BASIC.delay);if(!y.readyToSend()){b&&b();return}y.inform(x.SEND);var c=[],d=[];I=T(c,d,!0,I);if(c.length<=0){y.inform(x.OK);a&&a();return}c[0].trigger=J;J=null;c[0].send_method="ajax";c.map(y.prepWadForTransit);y.send(c,function(){d.forEach(function(a){a.__meta.status=F,a.__meta.callback&&a.__meta.callback()}),a&&a()},function(a){d.forEach(function(b){M(b,a)}),b&&b()})}function S(){__p&&__p();if(!(navigator&&navigator.sendBeacon&&y.isOkToSendViaBeacon()))return!1;var a=[],b=[];I=T(a,b,!1,I);if(a.length<=0)return!1;a[0].send_method="beacon";a.map(y.prepWadForTransit);a=new Blob([y.addRequestAuthData(y.prepForTransit(a))],{type:"application/x-www-form-urlencoded"});a=navigator.sendBeacon(x.adapter.endpoint,a);if(!a){b.forEach(function(a){I.push(a)});I.push(N(B,(a={},a[C]=[1],a),w()));return!1}return!0}function T(a,b,c,d){__p&&__p();var e={};return d.filter(function(d){__p&&__p();var f=d.__meta;if(f.status>=F||!L(d))return!1;if(f.status>=E)return!0;var g=f.compress!=null?f.compress:!0,h=f.pageID+f.userID+(g?"compress":""),i=e[h];i||(i={user:f.userID,page_id:f.pageID,posts:[],snappy:g},e[h]=i,a.push(i));f.status=E;i.posts.push(d);b.push(d);return c&&f.retry})}var U,V,W=!1;function X(){W||(W=!0,V=q.getLocalStorage());return V}function Y(){__p&&__p();U||(!z?U={store:function(){var a=X();if(!a||I.length<=0)return;var b=I.map(function(a){return[a[0],a[1],a[2],a[3]||0,a.__meta]});I=[];a.setItem(A+v+"."+w(),k.stringify(b))},restore:function(){__p&&__p();var a=X();if(!a)return;var c=b("WebStorageMutex");new c("banzai").lock(function(b){__p&&__p();var c=[];for(var d=0;d<a.length;d++){var f=a.key(d);f.indexOf(A)===0&&f.indexOf("bz:__")!==0&&c.push(f)}c.forEach(function(b){__p&&__p();var c=a.getItem(b);a.removeItem(b);if(!c)return;b=k.parse(c,e.id);b.forEach(function(a){if(!a)return;var b=a.__meta=a.pop(),c=L(a);if(!c)return;c=h.getID();(b.userID===c||c==="0")&&(b.status=D,I.push(a))})});b.unlock()})}}:U={store:r,restore:r})}x.SEND="Banzai:SEND";x.OK="Banzai:OK";x.ERROR="Banzai:ERROR";x.SHUTDOWN="Banzai:SHUTDOWN";x.VITAL_WAIT=1e3;x.BASIC_WAIT=6e4;x.EXPIRY=30*6e4;x.VITAL={delay:y.config.MIN_WAIT||x.VITAL_WAIT};x.BASIC={delay:y.config.MAX_WAIT||x.BASIC_WAIT};x.isEnabled=function(a){return y.config.gks&&y.config.gks[a]};x.post=function(b,c,d){__p&&__p();b||l("banzai").mustfix("Banzai.post called without specifying a route");d=d||{};var e=d.retry;if(y.config.disabled)return;if(!j.canUseDOM)return;var f=y.config.blacklist;if(f&&(f.indexOf&&(typeof f.indexOf==="function"&&f.indexOf(b)!=-1)))return;if(z&&t.isValidDocumentDomain()){var g;try{g=a.top.require("Banzai")}catch(a){g=null}if(g){g.post.apply(g,arguments);return}}var i=N(b,c,w(),e);d.callback&&(i.__meta.callback=d.callback);d.compress!=null&&(i.__meta.compress=d.compress);var k=d.delay;k==null&&(k=x.BASIC_WAIT);if(d.signal){i.__meta.status=E;var m=[{user:h.getID(),page_id:v,posts:[i],trigger:b}];y.send(m,function(){i.__meta.status=F,i.__meta.callback&&i.__meta.callback()},function(a){M(i,a)},!0);if(!e)return}I.push(i);(P(k)||!J)&&(J=b)};x.registerToSendWithBeacon=function(a,b,c,d){if(!(navigator&&navigator.sendBeacon&&y.isOkToSendViaBeacon()))return!1;if(!a){l("banzai").mustfix("Banzai.registerToSendWithBeacon called without specifying a route");return!1}K.push({cb:b,route:a,onSuccess:c,onFailure:d});return!0};x.flush=function(a,b){n.clear(G),G=0,R(a,b)};x.subscribe=y.subscribe;x.canUseNavigatorBeacon=function(){return navigator&&navigator.sendBeacon&&y.isOkToSendViaBeacon()};x._schedule=P;x._store=function(a){Y(),i.applyWithGuard(U.store,U)};x._restore=function(a){Y(),i.applyWithGuard(U.restore,U),P(y.config.RESTORE_WAIT||x.VITAL_WAIT)};x._unload=function(){g.unload(x.post),navigator&&navigator.sendBeacon&&y.isOkToSendViaBeacon()&&O(),y.cleanup(),y.inform(x.SHUTDOWN),I.length>0&&((!y.useBeacon||!S())&&(Y(),i.applyWithGuard(U.store,U)))};x._testState=function(){return{postBuffer:I,triggerRoute:J}};(x._initialize=function(){j.canUseDOM&&(y.useBeacon&&p.isSupported()?p.addListener(p.HIDDEN,function(){I.length>0&&(S()||(Y(),i.applyWithGuard(U.store,U)))}):y.setHooks(x),y.setUnloadHook(x),m.addListener(m.Events.NAVIGATION_DONE,function(a,b){if(b.pageType!=="normal")return;x._restore();m.removeCurrentListener()}))})();e.exports=x}),null);
__d("LogHistoryListeners",["Clock","ErrorUtils","LogHistory"],(function(a,b,c,d,e,f,g,h){var i=b("LogHistory").getInstance("sys");g.addListener(g.ANOMALY,function(a){i.warn("clock_anomaly",g.getSamples())});h.addListener(function(a){i.error("error",JSON.stringify({guard:a.guard,line:a.line,message:a.message,script:a.script,stack:a.stack}))})}),null);
__d("ScriptPathLogger",["Banzai","CurrentUser","LogHistory","ScriptPath","TimeSpentPageTransitionCause","URI","isInIframe"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n="script_path_change",o={scriptPath:null,categoryToken:null,extraData:{}},p=!1,q="imp_id";function r(a){__p&&__p();var b=l.getNextURI?l.getNextURI():new l(window.location.href),c=b.getQueryData();b=b.getPath();b.endsWith("/")&&(b=b.substr(0,b.length-1));var d=s(b,c);if(d){a.content_id=d;return}d=t(b);if(d!==""){a.dest_topic_feed=d;return}if(u(b)){d=c.queue_id;d&&(a.dest_srt_queue_id=d);b=c.job_in_review;b&&(a.dest_srt_reviewing_job_id=b);return}}function s(a,b){__p&&__p();if(b.story_fbid)return b.story_fbid;if(b.fbid)return b.fbid;if(b.view==="permalink"&&b.id)return b.id;b=/\/(posts|videos|notes|groups\/.*\/permalink)\//;var c=/^[0-9]+$/;if(b.test(a)){b=a.split("/");a=b[b.length-1];if(c.test(a))return a}return""}function t(a){if(!a||a.search("/feed/topics/")==-1)return"";a=a.split("/");return a[a.length-1]}function u(a){return!!a&&a.search("/intern/review/")!==-1}function v(a,b,c,d){__p&&__p();if(!p||m())return;var e=h.isLoggedIn(),f=e?g.VITAL:g.BASIC;e&&(d=d||{},d.via_banzai_vital="1");e={source_path:a.scriptPath,source_token:a.categoryToken,dest_path:b.scriptPath,dest_token:b.categoryToken,impression_id:b.extraData?b.extraData.imp_id:null,cause:c};c=c===k.PAGE_UNLOAD;c||r(e);if(d!=null){var i=d;i=i.snowlift_content_id;!c&&i!=null&&(e.content_id=i,delete d.snowlift_content_id);e.extra_data=d}a.scriptPath===null&&(e.referrer=document.referrer);c=j.getClickPointInfo();c&&(e.click_point_info=c);if(a.extraData)for(var l in a.extraData)l!=q&&(e["source_"+l]=a.extraData[l]);if(b.extraData)for(var o in b.extraData)o!=q&&(e["dest_"+o]=b.extraData[o]);a.topViewEndpoint&&(e.source_endpoint=a.topViewEndpoint);b.topViewEndpoint&&(e.dest_endpoint=b.topViewEndpoint);a.restored&&(e.source_restored=!0);g.post(n,e,f);j.setClickPointInfo(null)}function w(){v(j.getSourcePageInfo()||o,j.getPageInfo()||o,k.PAGE_LOAD)}function x(a,b,c){v(a,b,k.TRANSITION,c)}function a(){v(j.getPageInfo()||o,o,k.PAGE_UNLOAD),j.shutdown()}var y=j.subscribe(function(a){if(p){var b=a.source,c=a.dest,d=a.cause;a=a.extraData;d?v(b||o,c||o,d,a):b?x(b,c||o,a):w()}});g.subscribe(g.SHUTDOWN,a);b={startLogging:function(){p=!0,j.getPageInfo()&&w()},stopLogging:function(){p=!1,y.remove()},BANZAI_LOGGING_ROUTE:n};e.exports=b}),null);
__d("ServiceWorkerURLCleaner",[],(function(a,b,c,d,e,f){__p&&__p();var g=/sw_fnr_id=\d+&?/,h=/fnr_t=\d+&?/,i=!1,j=!1;a={removeRedirectID:function(){__p&&__p();if(i)return j;i=!0;if(location.search&&g.test(location.search)){j=!0;if(history!==undefined&&typeof history.replaceState==="function"){var a=location.toString().replace(g,"").replace(h,"").replace(/\?$/,"");history.replaceState({},document.title,a)}}return j}};e.exports=a}),null);